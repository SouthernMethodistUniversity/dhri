
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Table of Contents &#8212; DHRI@SMU</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../../../../../../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../../../../../../../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../../../../../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../../../../../../../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../../../../../../../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../../../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../../../../../../../../../" id="documentation_options" src="../../../../../../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../../../../../../../_static/copybutton.js"></script>
    <script src="../../../../../../../../../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../../../../../../../../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../../../../../../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../../../../../../../../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../../../../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../../../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../../../../../../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../../../../../../../../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">DHRI@SMU</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../../../../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../../../../../../../../../README.html">
                    Background
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../../../../../../../../../index.html">
   DHRI 2022
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../../../../../../../sections/aboutDHRI.html">
     Welcome to DHRI@SMU 2022!
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../../../../../../../sections/dh.html">
     Digital (or computational) + Humanities
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../../../../../../../sections/data1.html">
     Before our first session, we have 1 activity that we want you to do.
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../../../../../../../sections/tools.html">
     Tools
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../../../../../../../sections/whycoding.html">
     Coding
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../../../../../../../sections/python.html">
     Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../../../../../../../sections/data2.html">
     Data, Part 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../../../../../../../sections/pm.html">
     Project Planning
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../../../../../../../sections/onedayproject.html">
     One Day Project
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../../../../../../../sections/continue.html">
     Additional Resources (computational skills)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../../../../../../../sections/references.html">
     References
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../../../../../../../../sections/glossary.html">
     Text analysis glossary
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/SouthernMethodistUniversity/DHRI/main?urlpath=tree/docs/jupyter_execute/sections/jupyter_execute/docs/jupyter_execute/docs/jupyter_execute/docs/jupyter_execute/sections/textmining_python.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../../../../../../../../../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../../../../../../../../../_sources/docs/jupyter_execute/sections/jupyter_execute/docs/jupyter_execute/docs/jupyter_execute/docs/jupyter_execute/sections/textmining_python.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Table of Contents
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction-to-natural-language-processing-with-python">
   Introduction to Natural Language Processing with Python
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#intro-to-python-basics">
   Intro to Python Basics
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#operating-this-notebook">
     Operating this notebook
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#basic-math">
       Basic Math
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#variables-and-objects">
     Variables and Objects
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#dictionaries">
       Dictionaries
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loops-and-functions">
     Loops and Functions
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#loops">
       Loops
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#functions">
       Functions
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#libraries">
   Libraries
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dataframes-and-pandas">
   DataFrames and Pandas
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plotting">
     Plotting
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#text-mining-basics">
   Text Mining Basics
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setup">
     Setup
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#counting-words-and-characters">
     Counting Words and Characters
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#count-stopwords">
       Count Stopwords
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#other-ways-to-count">
       Other Ways to Count
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#counting-special-characters">
         Counting Special Characters
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#counting-numbers">
         Counting Numbers
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#counting-uppercase">
         Counting Uppercase
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#processing-text">
   Processing Text
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cleaning-up-words">
     Cleaning Up Words
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#lowercase">
       Lowercase
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#remove-punctuation">
       Remove Punctuation
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#remove-stopwords">
       Remove Stopwords
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#remove-frequent-words">
       Remove Frequent Words
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#remove-rare-words">
       Remove Rare Words
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#correct-spelling">
       Correct Spelling
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#tokenization">
       Tokenization
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#stemming">
     Stemming
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lemmatization">
     Lemmatization
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#advanced-text-processing">
   Advanced Text Processing
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#n-grams">
     N-grams
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#term-frequency">
     Term Frequency
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inverse-document-frequency">
     Inverse Document Frequency
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#term-frequency-inverse-document-frequency-tf-idf">
     Term Frequency – Inverse Document Frequency (TF-IDF)
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bag-of-words">
     Bag of Words
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sentiment-analysis">
     Sentiment Analysis
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-tf-idf-and-machine-learning">
     Using TF-IDF and Machine Learning
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Table of Contents</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Table of Contents
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction-to-natural-language-processing-with-python">
   Introduction to Natural Language Processing with Python
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#intro-to-python-basics">
   Intro to Python Basics
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#operating-this-notebook">
     Operating this notebook
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#basic-math">
       Basic Math
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#variables-and-objects">
     Variables and Objects
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#dictionaries">
       Dictionaries
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loops-and-functions">
     Loops and Functions
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#loops">
       Loops
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#functions">
       Functions
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#libraries">
   Libraries
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dataframes-and-pandas">
   DataFrames and Pandas
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plotting">
     Plotting
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#text-mining-basics">
   Text Mining Basics
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setup">
     Setup
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#counting-words-and-characters">
     Counting Words and Characters
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#count-stopwords">
       Count Stopwords
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#other-ways-to-count">
       Other Ways to Count
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#counting-special-characters">
         Counting Special Characters
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#counting-numbers">
         Counting Numbers
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#counting-uppercase">
         Counting Uppercase
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#processing-text">
   Processing Text
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cleaning-up-words">
     Cleaning Up Words
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#lowercase">
       Lowercase
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#remove-punctuation">
       Remove Punctuation
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#remove-stopwords">
       Remove Stopwords
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#remove-frequent-words">
       Remove Frequent Words
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#remove-rare-words">
       Remove Rare Words
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#correct-spelling">
       Correct Spelling
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#tokenization">
       Tokenization
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#stemming">
     Stemming
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lemmatization">
     Lemmatization
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#advanced-text-processing">
   Advanced Text Processing
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#n-grams">
     N-grams
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#term-frequency">
     Term Frequency
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inverse-document-frequency">
     Inverse Document Frequency
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#term-frequency-inverse-document-frequency-tf-idf">
     Term Frequency – Inverse Document Frequency (TF-IDF)
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bag-of-words">
     Bag of Words
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sentiment-analysis">
     Sentiment Analysis
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-tf-idf-and-machine-learning">
     Using TF-IDF and Machine Learning
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="table-of-contents">
<h1>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">#</a></h1>
 <p><div class="lev1 toc-item"><a href="#Introduction-to-Natural-Language-Processing-with-Python" data-toc-modified-id="Introduction-to-Natural-Language-Processing-with-Python-1"><span class="toc-item-num">1&nbsp;&nbsp;</span>Introduction to Natural Language Processing with Python</a></div><div class="lev1 toc-item"><a href="#Intro-to-Python-Basics" data-toc-modified-id="Intro-to-Python-Basics-2"><span class="toc-item-num">2&nbsp;&nbsp;</span>Intro to Python Basics</a></div><div class="lev2 toc-item"><a href="#Operating-this-notebook" data-toc-modified-id="Operating-this-notebook-2.1"><span class="toc-item-num">2.1&nbsp;&nbsp;</span>Operating this notebook</a></div><div class="lev3 toc-item"><a href="#Basic-Math" data-toc-modified-id="Basic-Math-2.1.1"><span class="toc-item-num">2.1.1&nbsp;&nbsp;</span>Basic Math</a></div><div class="lev2 toc-item"><a href="#Variables-and-Objects" data-toc-modified-id="Variables-and-Objects-2.2"><span class="toc-item-num">2.2&nbsp;&nbsp;</span>Variables and Objects</a></div><div class="lev3 toc-item"><a href="#Dictionaries" data-toc-modified-id="Dictionaries-2.2.1"><span class="toc-item-num">2.2.1&nbsp;&nbsp;</span>Dictionaries</a></div><div class="lev2 toc-item"><a href="#Loops-and-Functions" data-toc-modified-id="Loops-and-Functions-2.3"><span class="toc-item-num">2.3&nbsp;&nbsp;</span>Loops and Functions</a></div><div class="lev3 toc-item"><a href="#Loops" data-toc-modified-id="Loops-2.3.1"><span class="toc-item-num">2.3.1&nbsp;&nbsp;</span>Loops</a></div><div class="lev3 toc-item"><a href="#Functions" data-toc-modified-id="Functions-2.3.2"><span class="toc-item-num">2.3.2&nbsp;&nbsp;</span>Functions</a></div><div class="lev2 toc-item"><a href="#DataFrames-and-Pandas" data-toc-modified-id="DataFrames-and-Pandas-2.4"><span class="toc-item-num">2.4&nbsp;&nbsp;</span>DataFrames and Pandas</a></div><div class="lev2 toc-item"><a href="#Plotting" data-toc-modified-id="Plotting-2.5"><span class="toc-item-num">2.5&nbsp;&nbsp;</span>Plotting</a></div><div class="lev1 toc-item"><a href="#Text-Mining-Basics" data-toc-modified-id="Text-Mining-Basics-3"><span class="toc-item-num">3&nbsp;&nbsp;</span>Text Mining Basics</a></div><div class="lev2 toc-item"><a href="#Setup" data-toc-modified-id="Setup-3.1"><span class="toc-item-num">3.1&nbsp;&nbsp;</span>Setup</a></div><div class="lev2 toc-item"><a href="#Counting-Words-and-Characters" data-toc-modified-id="Counting-Words-and-Characters-3.2"><span class="toc-item-num">3.2&nbsp;&nbsp;</span>Counting Words and Characters</a></div><div class="lev3 toc-item"><a href="#Count-Stopwords" data-toc-modified-id="Count-Stopwords-3.2.1"><span class="toc-item-num">3.2.1&nbsp;&nbsp;</span>Count Stopwords</a></div><div class="lev3 toc-item"><a href="#Other-Ways-to-Count" data-toc-modified-id="Other-Ways-to-Count-3.2.2"><span class="toc-item-num">3.2.2&nbsp;&nbsp;</span>Other Ways to Count</a></div><div class="lev4 toc-item"><a href="#Counting-Special-Characters" data-toc-modified-id="Counting-Special-Characters-3.2.2.1"><span class="toc-item-num">3.2.2.1&nbsp;&nbsp;</span>Counting Special Characters</a></div><div class="lev4 toc-item"><a href="#Counting-Numbers" data-toc-modified-id="Counting-Numbers-3.2.2.2"><span class="toc-item-num">3.2.2.2&nbsp;&nbsp;</span>Counting Numbers</a></div><div class="lev4 toc-item"><a href="#Counting-Uppercase" data-toc-modified-id="Counting-Uppercase-3.2.2.3"><span class="toc-item-num">3.2.2.3&nbsp;&nbsp;</span>Counting Uppercase</a></div><div class="lev1 toc-item"><a href="#Processing-Text" data-toc-modified-id="Processing-Text-4"><span class="toc-item-num">4&nbsp;&nbsp;</span>Processing Text</a></div><div class="lev2 toc-item"><a href="#Cleaning-Up-Words" data-toc-modified-id="Cleaning-Up-Words-4.1"><span class="toc-item-num">4.1&nbsp;&nbsp;</span>Cleaning Up Words</a></div><div class="lev3 toc-item"><a href="#Lowercase" data-toc-modified-id="Lowercase-4.1.1"><span class="toc-item-num">4.1.1&nbsp;&nbsp;</span>Lowercase</a></div><div class="lev3 toc-item"><a href="#Remove-Punctuation" data-toc-modified-id="Remove-Punctuation-4.1.2"><span class="toc-item-num">4.1.2&nbsp;&nbsp;</span>Remove Punctuation</a></div><div class="lev3 toc-item"><a href="#Remove-Stopwords" data-toc-modified-id="Remove-Stopwords-4.1.3"><span class="toc-item-num">4.1.3&nbsp;&nbsp;</span>Remove Stopwords</a></div><div class="lev3 toc-item"><a href="#Remove-Frequent-Words" data-toc-modified-id="Remove-Frequent-Words-4.1.4"><span class="toc-item-num">4.1.4&nbsp;&nbsp;</span>Remove Frequent Words</a></div><div class="lev3 toc-item"><a href="#Remove-Rare-Words" data-toc-modified-id="Remove-Rare-Words-4.1.5"><span class="toc-item-num">4.1.5&nbsp;&nbsp;</span>Remove Rare Words</a></div><div class="lev3 toc-item"><a href="#Correct-Spelling" data-toc-modified-id="Correct-Spelling-4.1.6"><span class="toc-item-num">4.1.6&nbsp;&nbsp;</span>Correct Spelling</a></div><div class="lev3 toc-item"><a href="#Tokenization" data-toc-modified-id="Tokenization-4.1.7"><span class="toc-item-num">4.1.7&nbsp;&nbsp;</span>Tokenization</a></div><div class="lev2 toc-item"><a href="#Stemming" data-toc-modified-id="Stemming-4.2"><span class="toc-item-num">4.2&nbsp;&nbsp;</span>Stemming</a></div><div class="lev2 toc-item"><a href="#Lemmatization" data-toc-modified-id="Lemmatization-4.3"><span class="toc-item-num">4.3&nbsp;&nbsp;</span>Lemmatization</a></div><div class="lev1 toc-item"><a href="#Advanced-Text-Processing" data-toc-modified-id="Advanced-Text-Processing-5"><span class="toc-item-num">5&nbsp;&nbsp;</span>Advanced Text Processing</a></div><div class="lev2 toc-item"><a href="#N-grams" data-toc-modified-id="N-grams-5.1"><span class="toc-item-num">5.1&nbsp;&nbsp;</span>N-grams</a></div><div class="lev2 toc-item"><a href="#Term-Frequency" data-toc-modified-id="Term-Frequency-5.2"><span class="toc-item-num">5.2&nbsp;&nbsp;</span>Term Frequency</a></div><div class="lev2 toc-item"><a href="#Inverse-Document-Frequency" data-toc-modified-id="Inverse-Document-Frequency-5.3"><span class="toc-item-num">5.3&nbsp;&nbsp;</span>Inverse Document Frequency</a></div><div class="lev2 toc-item"><a href="#Term-Frequency-–-Inverse-Document-Frequency-(TF-IDF)" data-toc-modified-id="Term-Frequency-–-Inverse-Document-Frequency-(TF-IDF)-5.4"><span class="toc-item-num">5.4&nbsp;&nbsp;</span>Term Frequency – Inverse Document Frequency (<a href="https://en.wikipedia.org/wiki/Tf%E2%80%93idf" target="_blank">TF-IDF</a>)</a></div><div class="lev2 toc-item"><a href="#Bag-of-Words" data-toc-modified-id="Bag-of-Words-5.5"><span class="toc-item-num">5.5&nbsp;&nbsp;</span><a href="https://en.wikipedia.org/wiki/Bag-of-words_model" target="_blank">Bag of Words</a></a></div><div class="lev2 toc-item"><a href="#Sentiment-Analysis" data-toc-modified-id="Sentiment-Analysis-5.6"><span class="toc-item-num">5.6&nbsp;&nbsp;</span>Sentiment Analysis</a></div></section>
<section class="tex2jax_ignore mathjax_ignore" id="introduction-to-natural-language-processing-with-python">
<h1>Introduction to Natural Language Processing with Python<a class="headerlink" href="#introduction-to-natural-language-processing-with-python" title="Permalink to this headline">#</a></h1>
<p>By: Dr. Eric Godat and Dr. Rob Kalescky</p>
<p>Edited: Garrett Moore</p>
<p>Adapted from: <a class="reference external" href="https://www.analyticsvidhya.com/blog/2018/02/the-different-methods-deal-text-data-predictive-python/">Ultimate Guide to deal with Text Data (Using Python)</a></p>
<p>Natural Language Toolkit: <a class="reference external" href="http://www.nltk.org/">Documentation</a></p>
<p>Reference Text: <a class="reference external" href="http://www.nltk.org/book/">Natural Language Processing with Python</a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="intro-to-python-basics">
<h1>Intro to Python Basics<a class="headerlink" href="#intro-to-python-basics" title="Permalink to this headline">#</a></h1>
<p><em>This section is designed to guide you from having never used Python before to feeling comfortable with basic operations. If you already feel comfortable with this material, feel free to skip to the next section.</em></p>
<p>Python is a programming language capable of just about anything you could want to do. It is designed to be human readable and robust. This particular document is called a Jupyter Notebook. Notebooks are tools for developing Python code and running that code in small steps and see the intermediate results in line.</p>
<section id="operating-this-notebook">
<h2>Operating this notebook<a class="headerlink" href="#operating-this-notebook" title="Permalink to this headline">#</a></h2>
<p>To operate this notebook, you will need to execute boxes of code, called cells. To do this you can either click the <em>Run</em> button on the toolbar or use [Shift]+[Enter].</p>
<p>Throughout this notebook you will see cells that are not code (like this one). These cells contain text in a language called Markdown. You can execute these cells to render formatted text. A cheatsheet for Markdown can be found <a class="reference external" href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">here</a>. There will also be comments with in the code itself that give additional information about the operation of the code, describe functions or show you places where you might want to make changes. These comments are always preceded by an octothorp (#) and in most cases be a different color from the surrounding text.</p>
<p>Notebooks save automatically, however if you have made big changes your code, you can checkpoint it. This allows you to roll back changes to this point (or any previous checkpoints) should something break in the future.</p>
<p>There are a few useful <a class="reference external" href="https://gist.github.com/kidpixo/f4318f8c8143adee5b40">keyboard shortcuts</a> for modifying the cells in a notebook. To use these, click on the far left side of the cell such that the outline changes color (to blue in most cases), press [Enter]] to return to editing the cell’s contents.</p>
<p>-Add a cell <strong>a</strong>bove the current cell   [A]</p>
<p>-Add a cell <strong>b</strong>elow the current cell   [B]</p>
<p>-<strong>D</strong>elete the current cell   [D,D]</p>
<p><strong>Let’s try it out!</strong></p>
<section id="basic-math">
<h3>Basic Math<a class="headerlink" href="#basic-math" title="Permalink to this headline">#</a></h3>
<p>Python can do simple mathematical operations just like a calculator. Try executing the following cells, then add a cell and have it calculate the sum of the longitude and latitude for SMU in Taos (36.274708,-105.5781171).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mf">2.5</span><span class="o">-</span><span class="mf">2.0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="variables-and-objects">
<h2>Variables and Objects<a class="headerlink" href="#variables-and-objects" title="Permalink to this headline">#</a></h2>
<p>Calculations are nice but we really want to be able to store our calculations in memory so that we can access them later. We do that by assigning variables.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">=</span><span class="mi">2</span>
<span class="n">b</span><span class="o">=</span><span class="mi">3</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">+</span><span class="n">b</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
</div>
</div>
<p>Variables can be named just about anything</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pythoniscool</span><span class="o">=</span><span class="mi">2</span>
<span class="n">SMU</span><span class="o">=</span><span class="mi">7</span>
<span class="n">lets_text_mine</span><span class="o">=</span><span class="mi">3</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Notice that if we assign a value to a variable, our notebook won&#39;t return that value to our screen.</span>
<span class="c1">#If we want it to show us the value, we can call that variable after it is assigned.</span>
<span class="n">ouranswer</span> <span class="o">=</span> <span class="n">SMU</span><span class="o">*</span><span class="n">pythoniscool</span><span class="o">*</span><span class="n">lets_text_mine</span>
<span class="n">ouranswer</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>42
</pre></div>
</div>
</div>
</div>
<p>So far we have been doing all of our operations on numbers, integers and floats (decimals), but there are other useful objects we can use in Python.</p>
<p>Strings allow us to store and operate on text data. Strings in Python are surrounded by either single quotes ‘’ or double quotes “”.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ourstring</span> <span class="o">=</span> <span class="s2">&quot;Here is a string in Python!&quot;</span>
<span class="n">ourstring</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Here is a string in Python!&#39;
</pre></div>
</div>
</div>
</div>
<p>Uncomment the next cell and try making a string of your own.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#mystring = &lt;put your string here&gt;</span>
<span class="c1">#mystring</span>
</pre></div>
</div>
</div>
</div>
<p>If we later want to see the value stored in a variable we can always use the built in <strong>print</strong> function</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ourstring</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Here is a string in Python!
</pre></div>
</div>
</div>
</div>
<p>What if we want to have multiple strings stored at once but we don’t want to assign a bunch of variables? Then we can use a list.</p>
<p>Lists are enclosed by brackets [] and separated by commas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ourlist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;This&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span> <span class="s1">&#39;of&#39;</span><span class="p">,</span> <span class="s2">&quot;strings&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ourlist</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;This&#39;, &#39;is&#39;, &#39;a&#39;, &#39;list&#39;, &#39;of&#39;, &#39;strings&#39;]
</pre></div>
</div>
</div>
</div>
<p>To access individual elements in a list you call it by its reference number.</p>
<p><em><strong>Note:</strong> In Python, counting starts with 0. Thus in the list [a,b,c], a is the 0th element and c is the 2nd</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">first</span> <span class="o">=</span> <span class="n">ourlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Notice we can call the last element by using a negative reference number. This lets us see the end without knowing how long the list is.</span>
<span class="n">last</span> <span class="o">=</span> <span class="n">ourlist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="n">last</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>This strings
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># If we did want to know the length of our list we can use the len() function</span>
<span class="nb">len</span><span class="p">(</span><span class="n">ourlist</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6
</pre></div>
</div>
</div>
</div>
<p>Try making a list and printing the 2nd element from your list. Make sure to remove the #’s for comments.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#mylist=</span>
<span class="c1">#</span>
<span class="c1">#</span>
</pre></div>
</div>
</div>
</div>
<section id="dictionaries">
<h3>Dictionaries<a class="headerlink" href="#dictionaries" title="Permalink to this headline">#</a></h3>
<p>Dictionaries are a different way of storing data than lists. They rely on a key and value system as opposed to the order of the entries.</p>
<p>Dictionaries are enclosed in curly braces {}, the key and value are separated by a colon : and entries are separated by commas ,</p>
<p>Values can then be accessed by referencing the key.</p>
<p>Note that finding dictionary values does not go both ways, so using the value to find the key will cause an error.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ourdictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Dallas&quot;</span><span class="p">:</span><span class="mi">1341000</span><span class="p">,</span><span class="s2">&quot;Plano&quot;</span><span class="p">:</span><span class="mi">286143</span><span class="p">,</span><span class="s2">&quot;Taos&quot;</span><span class="p">:</span><span class="mi">5668</span><span class="p">}</span>
<span class="n">ourdictionary</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Dallas&#39;: 1341000, &#39;Plano&#39;: 286143, &#39;Taos&#39;: 5668}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ourdictionary</span><span class="p">[</span><span class="s2">&quot;Taos&quot;</span><span class="p">]</span> 
<span class="c1">#NOTE: ourdictionary[5668] will NOT give you &quot;Taos&quot;, but an error.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5668
</pre></div>
</div>
</div>
</div>
<p>Below are the word counts for the <em>Lord of the Rings</em> books (<a class="reference external" href="http://lotrproject.com/statistics/books/wordscount">citation</a>). Can you build a dictionary of the information and then calculate the difference between the <em>Fellowship of the Ring</em> and <em>The Hobbit</em> and the total number of words for books in the <em>Lord of the Rings</em> Trilogy?  Try adding a cell below this one, then compare your answer to the one below!</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Book</strong></p></th>
<th class="head"><p><strong>Word Count</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>The Silmarillion</p></td>
<td><p>130115</p></td>
</tr>
<tr class="row-odd"><td><p>The Hobbit</p></td>
<td><p>95356</p></td>
</tr>
<tr class="row-even"><td><p>The Fellowship of the Ring</p></td>
<td><p>187790</p></td>
</tr>
<tr class="row-odd"><td><p>The Two Towers</p></td>
<td><p>156198</p></td>
</tr>
<tr class="row-even"><td><p>The Return of the King</p></td>
<td><p>137115</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Here is the code answer for writing the dictionary</span>

<span class="n">tolkien</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;The Silmarillion&quot;</span><span class="p">:</span><span class="mi">130115</span><span class="p">,</span><span class="s2">&quot;The Hobbit&quot;</span><span class="p">:</span><span class="mi">95356</span><span class="p">,</span><span class="s2">&quot;The Fellowship of the Ring&quot;</span><span class="p">:</span><span class="mi">187790</span><span class="p">,</span> <span class="s2">&quot;The Two Towers&quot;</span><span class="p">:</span><span class="mi">156198</span><span class="p">,</span> <span class="s2">&quot;The Return of the King&quot;</span><span class="p">:</span><span class="mi">137115</span><span class="p">}</span>

<span class="n">bilbo</span><span class="o">=</span><span class="n">tolkien</span><span class="p">[</span><span class="s2">&quot;The Hobbit&quot;</span><span class="p">]</span>

<span class="n">frodo</span><span class="o">=</span><span class="n">tolkien</span><span class="p">[</span><span class="s2">&quot;The Fellowship of the Ring&quot;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The Fellowship of the Ring - The Hobbit&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">frodo</span><span class="o">-</span><span class="n">bilbo</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total Words for the Lord of the Rings Trilogy&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">tolkien</span><span class="p">[</span><span class="s2">&quot;The Fellowship of the Ring&quot;</span><span class="p">]</span><span class="o">+</span><span class="n">tolkien</span><span class="p">[</span><span class="s2">&quot;The Two Towers&quot;</span><span class="p">]</span><span class="o">+</span><span class="n">tolkien</span><span class="p">[</span><span class="s2">&quot;The Return of the King&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The Fellowship of the Ring - The Hobbit
92434
Total Words for the Lord of the Rings Trilogy
481103
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="loops-and-functions">
<h2>Loops and Functions<a class="headerlink" href="#loops-and-functions" title="Permalink to this headline">#</a></h2>
<p>Computers are much better at doing simple repeatable tasks than humans are so to leverage this advantage, we will cover two different ways of writing these kind of repeatable instructions.</p>
<section id="loops">
<h3>Loops<a class="headerlink" href="#loops" title="Permalink to this headline">#</a></h3>
<p>Loops are a way of having Python complete a task over and over.</p>
<p>The most common form if a <strong>for</strong> loop. A <strong>for</strong> loop completes a task a fixed number of times by iterating a variable over the members of a sequence in order.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Example for loop</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
2
</pre></div>
</div>
</div>
</div>
<p><strong>Note</strong>: The indention is important, it tells Python that the line <em>print(i)</em> belongs inside the loop.</p>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">#</a></h3>
<p>Sometimes it would be nice to be able to save a group of instructions in a single block, that way we won’t need to rewrite several lines of code each time we want to do that set of operations.</p>
<p>To do this we define a <strong>function</strong>.</p>
<p>Functions allow us to define a more complicated set of instructions as a single entity and call that entire block of code directly.</p>
<p>Functions are defined (<em>def</em>), named (lowercase is a standard practice) and accept arguments (). They then can return a value if needed (<em>return</em>).</p>
<p>Python has several built in functions (<em>print()</em> is a good example) and when you combine external packages and libraries, there are functions for just about everything you could think of.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example function</span>
<span class="k">def</span> <span class="nf">square_me</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">n</span><span class="o">*</span><span class="n">n</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">square_me</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>16
</pre></div>
</div>
</div>
</div>
<p>Try defining your own function that takes 2 arguments and adds them together.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#def add_me</span>
<span class="c1">#</span>
<span class="c1">#</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#add_me(7,11)</span>
</pre></div>
</div>
</div>
</div>
<p>Putting loops and functions together is where python can become very powerful.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Looping over a function</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">square_me</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="c1"># note that this is still tabbed in within the for loop</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
4
9
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A function with a loop</span>
<span class="k">def</span> <span class="nf">print_numbers</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="n">stop</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="n">stop</span><span class="p">):</span> <span class="c1">#Here the range() function gives us all the values from start up to but excluding the stop value</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="c1"># this is indented twice, so Python knows it is within the loop within the function</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">print_numbers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
2
3
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="libraries">
<h1>Libraries<a class="headerlink" href="#libraries" title="Permalink to this headline">#</a></h1>
<p>Libraries are pre-written chunks of code designed to be integrated into projects for a specific purpose.  The idea is to keep people from having to reinvent the wheel every time they want to write a program.  When we encounter situations where a libary might be useful, we use the keyword <em>import</em> to tell the program that we want to use this pre-existing code.  As an example, in the next section you will use a library called Pandas which helps visualize data and make it easier to digest, which is very useful for us.  Because of this, we will import that code into this program simply by running the cell with the import that goes with that code.  Here is what you will see, only in commented code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#import pandas as pd</span>

<span class="c1">#by using the keyword *as* and giving pandas an alternative name (pd) in this program, it allows us to use the</span>
<span class="c1">#functions within pandas while only having to type our pd instead of pandas every time.</span>
</pre></div>
</div>
</div>
</div>
<p>Most programming languages have libraries that allow you to import code this way, and it will save you a lot of time and allow you to quickly use many new functions that are highly polished.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dataframes-and-pandas">
<h1>DataFrames and Pandas<a class="headerlink" href="#dataframes-and-pandas" title="Permalink to this headline">#</a></h1>
<p>Now it is time to use what we have learned to start doing some data science.</p>
<p>Pandas is the name of a library in which there are functions and tools for doing operations common in data analysis and data science. One particularly great feature is the DataFrame structure which allows us to work with an object similar to an Excel spreadsheet but with the flexibility and power of Python behind it.</p>
<p>First we will need to import the Pandas library and create a DataFrame. DataFrames are can also be created when you import files (like CSV’s) or tables from a database (like SQL).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Notice here the data is a dictionary, similar to the one we used above but with the titles and wordcounts as nested lists</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Books&quot;</span><span class="p">:[</span><span class="s2">&quot;The Silmarillion&quot;</span><span class="p">,</span><span class="s2">&quot;The Hobbit&quot;</span><span class="p">,</span><span class="s2">&quot;The Fellowship of the Ring&quot;</span><span class="p">,</span><span class="s2">&quot;The Two Towers&quot;</span><span class="p">,</span><span class="s2">&quot;The Return of the King&quot;</span><span class="p">],</span>
     <span class="s2">&quot;Words&quot;</span><span class="p">:[</span><span class="mi">130115</span><span class="p">,</span><span class="mi">95356</span><span class="p">,</span><span class="mi">187790</span><span class="p">,</span><span class="mi">156198</span><span class="p">,</span><span class="mi">137115</span><span class="p">]}</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Books</th>
      <th>Words</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>The Silmarillion</td>
      <td>130115</td>
    </tr>
    <tr>
      <th>1</th>
      <td>The Hobbit</td>
      <td>95356</td>
    </tr>
    <tr>
      <th>2</th>
      <td>The Fellowship of the Ring</td>
      <td>187790</td>
    </tr>
    <tr>
      <th>3</th>
      <td>The Two Towers</td>
      <td>156198</td>
    </tr>
    <tr>
      <th>4</th>
      <td>The Return of the King</td>
      <td>137115</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now we can operate on entire rows or columns in our DataFrame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Books&quot;</span><span class="p">]</span> <span class="c1">#Selecting the column &quot;Books&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0              The Silmarillion
1                    The Hobbit
2    The Fellowship of the Ring
3                The Two Towers
4        The Return of the King
Name: Books, dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="c1">#Selecting the first 2 rows</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Books</th>
      <th>Words</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>The Silmarillion</td>
      <td>130115</td>
    </tr>
    <tr>
      <th>1</th>
      <td>The Hobbit</td>
      <td>95356</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="c1">#Selecting rows 2 up to 4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Books</th>
      <th>Words</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>The Fellowship of the Ring</td>
      <td>187790</td>
    </tr>
    <tr>
      <th>3</th>
      <td>The Two Towers</td>
      <td>156198</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Words&quot;</span><span class="p">][</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="c1">#Selecting the second and third row from the &quot;Words&quot; column.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2    187790
3    156198
Name: Words, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">][</span><span class="s2">&quot;Words&quot;</span><span class="p">]</span> <span class="c1">#Same result but from the opposite order</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2    187790
3    156198
Name: Words, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>You can also operate on entire columns in your DataFrame. Just be careful because this can give you unexpected results. Rows are generally more consistent for elements within a DataFrame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Words&quot;</span><span class="p">])</span>
<span class="n">total</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>706574
</pre></div>
</div>
</div>
</div>
<section id="plotting">
<h2>Plotting<a class="headerlink" href="#plotting" title="Permalink to this headline">#</a></h2>
<p>Visualizing data is incredibly important when trying to convey findings. There are several libraries available for doing data visualization. Pandas has some built in plotting functionality, but we have provided access to MatPlotLib, Plotly and Seaborn as well.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is only needed in this case because we wanted to show the names of the books. You could make a similar plot in Pandas.</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="c1"># This allows the plot to be shown inline in the notebook</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span> <span class="c1"># we are setting the type of plot to a bar graph</span>
<span class="n">plot</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Books&#39;</span><span class="p">]);</span> <span class="c1">#This lets us rename the x axis labels</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../../../../../../../../../_images/textmining_python_76_012.png" src="../../../../../../../../../../../_images/textmining_python_76_012.png" />
</div>
</div>
<p>That concludes our tutorial for basic Python.</p>
<p>As you proceed forward, the remainder of this notebook is focused on mining text data.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="text-mining-basics">
<h1>Text Mining Basics<a class="headerlink" href="#text-mining-basics" title="Permalink to this headline">#</a></h1>
<section id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">#</a></h2>
<p>These are the basic libraries we will use in for data manipulation (pandas) and math functions (numpy). We will add more libraries as we need them.</p>
<p>As a best practice, it is a good idea to load all your libraries in a single cell at the top of a notebook, however for the purposes of this tutorial we will load them as we go.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
<p>Load a data file into a pandas DataFrame.</p>
<p>This tutorial was designed around using sets of data you have yourselves in a form like a CSV, TSV, or TXT file.  Feel free to use any set of data, but for now we will use a dataset created from scraping this <a class="reference external" href="http://www.mftd.org/">Multilingual Folktale Database</a>.</p>
<p>This file is a CSV filetype, common for text data, but your data may also be stored as TSV’s, TXT’s, or other file types.  This will slightly change how you read from Pandas, but the concept is largely the same for the different filetypes.  Just keep this in mind when you see references to CSV.</p>
<p>To proceed, you will need to have this file downloaded and in the same folder as this notebook. Alternatively you can put the full path to the file.  Typically, your program will look for the file with the name you specified in the folder that contains your program unless you give the program a path to follow.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">glob</span>
<span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.csv&quot;</span><span class="p">)</span> <span class="c1">#Allows us to check the files in the current directory, if folktales.csv is not here, then we need to give the path</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;folktales.csv&#39;</span> <span class="c1">#If you need to put the path to the file, do so here.</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="c1">#if your filetype is not CSV, you may need to add &quot; , sep = &#39;separating_character_here&#39; &quot; after the filename.  This may require extra manipulation, so be careful.</span>
<span class="c1">#an alternative, depending on your filetype and situation, may be read_table as opposed to read_csv</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span> <span class="c1"># We will use the .head() attribute to limit the amount of the DataFrame is displayed on screen. It is not necessary for computation.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileNotFoundError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="nn">Input In [41],</span> in <span class="ni">&lt;cell line: 2&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;folktales.csv&#39;</span> <span class="c1">#If you need to put the path to the file, do so here.</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="c1">#if your filetype is not CSV, you may need to add &quot; , sep = &#39;separating_character_here&#39; &quot; after the filename.  This may require extra manipulation, so be careful.</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1">#an alternative, depending on your filetype and situation, may be read_table as opposed to read_csv</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>

<span class="nn">File ~\Anaconda3\lib\site-packages\pandas\util\_decorators.py:311,</span> in <span class="ni">deprecate_nonkeyword_arguments.&lt;locals&gt;.decorate.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">305</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">num_allow_args</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">306</span>     <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">307</span>         <span class="n">msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">arguments</span><span class="o">=</span><span class="n">arguments</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">308</span>         <span class="ne">FutureWarning</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">309</span>         <span class="n">stacklevel</span><span class="o">=</span><span class="n">stacklevel</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">310</span>     <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">311</span> <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\Anaconda3\lib\site-packages\pandas\io\parsers\readers.py:680,</span> in <span class="ni">read_csv</span><span class="nt">(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, squeeze, prefix, mangle_dupe_cols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, skipfooter, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, dayfirst, cache_dates, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, doublequote, escapechar, comment, encoding, encoding_errors, dialect, error_bad_lines, warn_bad_lines, on_bad_lines, delim_whitespace, low_memory, memory_map, float_precision, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">665</span> <span class="n">kwds_defaults</span> <span class="o">=</span> <span class="n">_refine_defaults_read</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">666</span>     <span class="n">dialect</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">667</span>     <span class="n">delimiter</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">676</span>     <span class="n">defaults</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;delimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;,&quot;</span><span class="p">},</span>
<span class="g g-Whitespace">    </span><span class="mi">677</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">678</span> <span class="n">kwds</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwds_defaults</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">680</span> <span class="k">return</span> <span class="n">_read</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>

<span class="nn">File ~\Anaconda3\lib\site-packages\pandas\io\parsers\readers.py:575,</span> in <span class="ni">_read</span><span class="nt">(filepath_or_buffer, kwds)</span>
<span class="g g-Whitespace">    </span><span class="mi">572</span> <span class="n">_validate_names</span><span class="p">(</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;names&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
<span class="g g-Whitespace">    </span><span class="mi">574</span> <span class="c1"># Create the parser.</span>
<span class="ne">--&gt; </span><span class="mi">575</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">TextFileReader</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">577</span> <span class="k">if</span> <span class="n">chunksize</span> <span class="ow">or</span> <span class="n">iterator</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">578</span>     <span class="k">return</span> <span class="n">parser</span>

<span class="nn">File ~\Anaconda3\lib\site-packages\pandas\io\parsers\readers.py:934,</span> in <span class="ni">TextFileReader.__init__</span><span class="nt">(self, f, engine, **kwds)</span>
<span class="g g-Whitespace">    </span><span class="mi">931</span>     <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span>
<span class="g g-Whitespace">    </span><span class="mi">933</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span><span class="p">:</span> <span class="n">IOHandles</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="ne">--&gt; </span><span class="mi">934</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_engine</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>

<span class="nn">File ~\Anaconda3\lib\site-packages\pandas\io\parsers\readers.py:1218,</span> in <span class="ni">TextFileReader._make_engine</span><span class="nt">(self, f, engine)</span>
<span class="g g-Whitespace">   </span><span class="mi">1214</span>     <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;rb&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1215</span> <span class="c1"># error: No overload variant of &quot;get_handle&quot; matches argument types</span>
<span class="g g-Whitespace">   </span><span class="mi">1216</span> <span class="c1"># &quot;Union[str, PathLike[str], ReadCsvBuffer[bytes], ReadCsvBuffer[str]]&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1217</span> <span class="c1"># , &quot;str&quot;, &quot;bool&quot;, &quot;Any&quot;, &quot;Any&quot;, &quot;Any&quot;, &quot;Any&quot;, &quot;Any&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1218</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span> <span class="o">=</span> <span class="n">get_handle</span><span class="p">(</span>  <span class="c1"># type: ignore[call-overload]</span>
<span class="g g-Whitespace">   </span><span class="mi">1219</span>     <span class="n">f</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1220</span>     <span class="n">mode</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1221</span>     <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;encoding&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1222</span>     <span class="n">compression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;compression&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1223</span>     <span class="n">memory_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;memory_map&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1224</span>     <span class="n">is_text</span><span class="o">=</span><span class="n">is_text</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1225</span>     <span class="n">errors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;encoding_errors&quot;</span><span class="p">,</span> <span class="s2">&quot;strict&quot;</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1226</span>     <span class="n">storage_options</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;storage_options&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1227</span> <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1228</span> <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="g g-Whitespace">   </span><span class="mi">1229</span> <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span><span class="o">.</span><span class="n">handle</span>

<span class="nn">File ~\Anaconda3\lib\site-packages\pandas\io\common.py:786,</span> in <span class="ni">get_handle</span><span class="nt">(path_or_buf, mode, encoding, compression, memory_map, is_text, errors, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">781</span> <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">handle</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">782</span>     <span class="c1"># Check whether the filename is to be opened in binary mode.</span>
<span class="g g-Whitespace">    </span><span class="mi">783</span>     <span class="c1"># Binary mode does not support &#39;encoding&#39; and &#39;newline&#39;.</span>
<span class="g g-Whitespace">    </span><span class="mi">784</span>     <span class="k">if</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">and</span> <span class="s2">&quot;b&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">mode</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">785</span>         <span class="c1"># Encoding</span>
<span class="ne">--&gt; </span><span class="mi">786</span>         <span class="n">handle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">787</span>             <span class="n">handle</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">788</span>             <span class="n">ioargs</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">789</span>             <span class="n">encoding</span><span class="o">=</span><span class="n">ioargs</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">790</span>             <span class="n">errors</span><span class="o">=</span><span class="n">errors</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">791</span>             <span class="n">newline</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">792</span>         <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">793</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">794</span>         <span class="c1"># Binary mode</span>
<span class="g g-Whitespace">    </span><span class="mi">795</span>         <span class="n">handle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">handle</span><span class="p">,</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>

<span class="ne">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;folktales.csv&#39;
</pre></div>
</div>
</div>
</div>
<p>Here we can see all the information available to us from the file in the form of a Pandas DataFrame. For the remainder of this tutorial, we will focus primarily on the full text of each data chunk, which we will name the <em>Story</em> column.  With your data set this is likely to be something very different, so feel free to call is something else.</p>
</section>
<section id="counting-words-and-characters">
<h2>Counting Words and Characters<a class="headerlink" href="#counting-words-and-characters" title="Permalink to this headline">#</a></h2>
<p>The first bit of analysis we might want to do is to count the number of words in one piece of data. To do this we will add a column called <em>wordcount</em> and write an operation that applies a function to every row of the column.</p>
<p>Unpacking this piece of code, <em>len(str(x).split(” “)</em>, tells us what is happening.</p>
<p>For the content of cell <em>x</em>, convert it to a string, <em>str()</em>, then split that string into pieces at each space, <em>split()</em>.</p>
<p>The result of that is a list of all the words in the text and then we can count the length of that list, <em>len()</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;wordcount&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)))</span>
<span class="n">data</span><span class="p">[[</span><span class="s1">&#39;Story&#39;</span><span class="p">,</span><span class="s1">&#39;wordcount&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Story</th>
      <th>wordcount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A cat had made the acquaintance of a mouse, an...</td>
      <td>987</td>
    </tr>
    <tr>
      <th>1</th>
      <td>There was once an old goat who had seven littl...</td>
      <td>1037</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ONCE upon a time there was an old king who was...</td>
      <td>3068</td>
    </tr>
    <tr>
      <th>3</th>
      <td>There was once a peasant who had driven his co...</td>
      <td>1723</td>
    </tr>
    <tr>
      <th>4</th>
      <td>There was once a wonderful musician, who went ...</td>
      <td>1066</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can do something similar to count the number of characters in the data chunk, including spaces. If you wanted to exclude whitespaces, you could take the list we made above, join it together and count the length of the resulting string.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;No Information Provided&quot;</span><span class="p">)</span> <span class="c1">#If some of our data is missing, this will replace the blank entries. This is only necessary in some cases</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;char_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len</span><span class="p">()</span> <span class="c1">## this also includes spaces, to do it without spaces, you could use something like this: &quot;&quot;.join()</span>
<span class="n">data</span><span class="p">[[</span><span class="s1">&#39;Story&#39;</span><span class="p">,</span><span class="s1">&#39;char_count&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Story</th>
      <th>char_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A cat had made the acquaintance of a mouse, an...</td>
      <td>5108</td>
    </tr>
    <tr>
      <th>1</th>
      <td>There was once an old goat who had seven littl...</td>
      <td>5343</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ONCE upon a time there was an old king who was...</td>
      <td>15999</td>
    </tr>
    <tr>
      <th>3</th>
      <td>There was once a peasant who had driven his co...</td>
      <td>8907</td>
    </tr>
    <tr>
      <th>4</th>
      <td>There was once a wonderful musician, who went ...</td>
      <td>5592</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now we want to calculate the average word length in the data.</p>
<p>Let’s define a function that will do that for us:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">avg_word</span><span class="p">(</span><span class="n">sentence</span><span class="p">):</span>
    <span class="n">words</span> <span class="o">=</span> <span class="n">sentence</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>We can now apply that function to all the data chunks and save that in a new column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;avg_word&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">avg_word</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">data</span><span class="p">[[</span><span class="s1">&#39;Story&#39;</span><span class="p">,</span><span class="s1">&#39;avg_word&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Story</th>
      <th>avg_word</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A cat had made the acquaintance of a mouse, an...</td>
      <td>4.176292</td>
    </tr>
    <tr>
      <th>1</th>
      <td>There was once an old goat who had seven littl...</td>
      <td>4.153327</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ONCE upon a time there was an old king who was...</td>
      <td>4.215124</td>
    </tr>
    <tr>
      <th>3</th>
      <td>There was once a peasant who had driven his co...</td>
      <td>4.170052</td>
    </tr>
    <tr>
      <th>4</th>
      <td>There was once a wonderful musician, who went ...</td>
      <td>4.246717</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can then sort by the average word length.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[[</span><span class="s1">&#39;Story&#39;</span><span class="p">,</span><span class="s1">&#39;avg_word&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;avg_word&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Story</th>
      <th>avg_word</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>659</th>
      <td>A GNAT settled on the horn of a Bull, and sa...</td>
      <td>3.623377</td>
    </tr>
    <tr>
      <th>656</th>
      <td>A MAN wished to purchase an Ass, and agreed ...</td>
      <td>3.709924</td>
    </tr>
    <tr>
      <th>620</th>
      <td>A HOUND having started a Hare on the hillsid...</td>
      <td>3.737374</td>
    </tr>
    <tr>
      <th>391</th>
      <td>Once on a time there was a little boy who was ...</td>
      <td>3.771277</td>
    </tr>
    <tr>
      <th>895</th>
      <td>Hare once said to Elephant : " Let us play hid...</td>
      <td>3.795652</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="count-stopwords">
<h3>Count Stopwords<a class="headerlink" href="#count-stopwords" title="Permalink to this headline">#</a></h3>
<p>Stopwords are words that are commonly used and do little to aid in the understanding of the content of a text. There is no universal list of stopwords and they vary on the style, time period and media from which your text came from.  Typically, people choose to remove stopwords from their data, as it adds extra clutter while the words themselves provide little to no insight as to the nature of the data.  For now, we are simply going to count them to get an idea of how many there are.</p>
<p>For this tutorial, we will use the standard list of stopwords provided by the Natural Language Toolkit python library.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#import nltk</span>
<span class="c1">#nltk.download(&#39;stopwords&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>
<span class="n">stop</span> <span class="o">=</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To count the number of stopwords in a chunk of data, we make a list of all the words in our data that are also in the stopword list. We can then just take the length of that list and store it in a new column</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;stopwords&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">stop</span><span class="p">]))</span>
<span class="n">data</span><span class="p">[[</span><span class="s1">&#39;Story&#39;</span><span class="p">,</span><span class="s1">&#39;stopwords&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Story</th>
      <th>stopwords</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A cat had made the acquaintance of a mouse, an...</td>
      <td>446</td>
    </tr>
    <tr>
      <th>1</th>
      <td>There was once an old goat who had seven littl...</td>
      <td>505</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ONCE upon a time there was an old king who was...</td>
      <td>1471</td>
    </tr>
    <tr>
      <th>3</th>
      <td>There was once a peasant who had driven his co...</td>
      <td>745</td>
    </tr>
    <tr>
      <th>4</th>
      <td>There was once a wonderful musician, who went ...</td>
      <td>470</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="other-ways-to-count">
<h3>Other Ways to Count<a class="headerlink" href="#other-ways-to-count" title="Permalink to this headline">#</a></h3>
<p>There are other types of counting we might want to do. These might be more or less relevant depending on the test you are working with.</p>
<p>For completeness, we have put them here but we will skip over them in this tutorial</p>
<section id="counting-special-characters">
<h4>Counting Special Characters<a class="headerlink" href="#counting-special-characters" title="Permalink to this headline">#</a></h4>
<p>This is really only useful for Twitter or other Internet texts but you could imagine wanting to count quotations or exclamations with something similar.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;special_char&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">)]))</span>
<span class="n">data</span><span class="p">[[</span><span class="s1">&#39;Story&#39;</span><span class="p">,</span><span class="s1">&#39;special_char&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Story</th>
      <th>special_char</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A cat had made the acquaintance of a mouse, an...</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>There was once an old goat who had seven littl...</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ONCE upon a time there was an old king who was...</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>There was once a peasant who had driven his co...</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>There was once a wonderful musician, who went ...</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="counting-numbers">
<h4>Counting Numbers<a class="headerlink" href="#counting-numbers" title="Permalink to this headline">#</a></h4>
<p>This counts the number of numerical digits in a text, which for strict text may not be helpful, but mostly numerical data will make more use of this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;numerics&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()]))</span>
<span class="n">data</span><span class="p">[[</span><span class="s1">&#39;Story&#39;</span><span class="p">,</span><span class="s1">&#39;numerics&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;numerics&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Story</th>
      <th>numerics</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>416</th>
      <td>Osborn’s PipeONCE on a time there was a poor t...</td>
      <td>9</td>
    </tr>
    <tr>
      <th>414</th>
      <td>ONCE FIVE women were reaping in a field. Each ...</td>
      <td>4</td>
    </tr>
    <tr>
      <th>696</th>
      <td>There was once a husband and a wife who had tw...</td>
      <td>2</td>
    </tr>
    <tr>
      <th>311</th>
      <td>There once lived an old man who had three daug...</td>
      <td>2</td>
    </tr>
    <tr>
      <th>727</th>
      <td>Whoever, to his honor's cost,His pristine dign...</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="counting-uppercase">
<h4>Counting Uppercase<a class="headerlink" href="#counting-uppercase" title="Permalink to this headline">#</a></h4>
<p>Counting uppercase words could give us an indication of how many sentences or proper nouns are in a text but this is likely too broad to be used to classify either on its own.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;upper&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">isupper</span><span class="p">()]))</span>
<span class="n">data</span><span class="p">[[</span><span class="s1">&#39;Story&#39;</span><span class="p">,</span><span class="s1">&#39;upper&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Story</th>
      <th>upper</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A cat had made the acquaintance of a mouse, an...</td>
      <td>12</td>
    </tr>
    <tr>
      <th>1</th>
      <td>There was once an old goat who had seven littl...</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ONCE upon a time there was an old king who was...</td>
      <td>39</td>
    </tr>
    <tr>
      <th>3</th>
      <td>There was once a peasant who had driven his co...</td>
      <td>35</td>
    </tr>
    <tr>
      <th>4</th>
      <td>There was once a wonderful musician, who went ...</td>
      <td>19</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="processing-text">
<h1>Processing Text<a class="headerlink" href="#processing-text" title="Permalink to this headline">#</a></h1>
<p>A major component of doing analysis on text is the cleaning of the text prior to the analysis.</p>
<p>Though this process destroys some elements of the text (sentence structure, for example), it is often necessary in order to describe a text analytically. Depending on your choice of cleaning techniques, some elements might be preserved better than others if that is of importance to your analysis.</p>
<section id="cleaning-up-words">
<h2>Cleaning Up Words<a class="headerlink" href="#cleaning-up-words" title="Permalink to this headline">#</a></h2>
<p>This series of steps aims to clean up and standardize the text itself. This generally consists of removing common elements such as stopwords and punctuation but can be expanded to more detailed removals.</p>
<section id="lowercase">
<h3>Lowercase<a class="headerlink" href="#lowercase" title="Permalink to this headline">#</a></h3>
<p>Here we enforce that all of the text is lowercase. This makes it easier to match cases and sort words.</p>
<p>Notice we are assigning our modified column back to itself. This will save our modifications to our DataFrame</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    a cat had made the acquaintance of a mouse, an...
1    there was once an old goat who had seven littl...
2    once upon a time there was an old king who was...
3    there was once a peasant who had driven his co...
4    there was once a wonderful musician, who went ...
Name: Story, dtype: object
</pre></div>
</div>
</div>
</div>
</section>
<section id="remove-punctuation">
<h3>Remove Punctuation<a class="headerlink" href="#remove-punctuation" title="Permalink to this headline">#</a></h3>
<p>Here we remove all punctuation from the data. This allows us to focus on the words only as well as assist in matching.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;[^\w\s]&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\46768458\AppData\Local\Temp\ipykernel_19444\3005510997.py:1: FutureWarning: The default value of regex will change from True to False in a future version.
  data[&#39;Story&#39;] = data[&#39;Story&#39;].str.replace(&#39;[^\w\s]&#39;,&#39;&#39;)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    a cat had made the acquaintance of a mouse and...
1    there was once an old goat who had seven littl...
2    once upon a time there was an old king who was...
3    there was once a peasant who had driven his co...
4    there was once a wonderful musician who went q...
Name: Story, dtype: object
</pre></div>
</div>
</div>
</div>
</section>
<section id="remove-stopwords">
<h3>Remove Stopwords<a class="headerlink" href="#remove-stopwords" title="Permalink to this headline">#</a></h3>
<p>Similar to what we did earlier when we counted stopwords, we now want to remove the stopwords. We will again use the NLTK list of stopwords but this time keep a list of words that do not appear in the list of stopwords.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>
<span class="n">stop</span> <span class="o">=</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">)</span>
<span class="n">stop</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;come&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stop</span><span class="p">))</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    cat made acquaintance mouse said much great lo...
1    old goat seven little ones fond ever mother ch...
2    upon time old king ill thought likely deathbed...
3    peasant driven cow fair sold seven thalers way...
4    wonderful musician went quite alone forest tho...
Name: Story, dtype: object
</pre></div>
</div>
</div>
</div>
</section>
<section id="remove-frequent-words">
<h3>Remove Frequent Words<a class="headerlink" href="#remove-frequent-words" title="Permalink to this headline">#</a></h3>
<p>If we want to catch common words that might have slipped through the stopword removal, we can build out a list of the most common words remaining in our text.</p>
<p>Here we have built a list of the 10 most common words. Some of these words might actually be relevant to our analysis so it is important to be careful with this method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">freq</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">())</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()[:</span><span class="mi">10</span><span class="p">]</span>
<span class="n">freq</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>said      9644
one       4980
came      3502
little    3489
went      3317
could     3040
would     3023
king      2846
old       2764
man       2375
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>We now follow the same procedure with which we removed stopwords to remove the most frequent words.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">freq</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">freq</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">freq</span><span class="p">))</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    cat made acquaintance mouse much great love fr...
1    goat seven ones fond ever mother children day ...
2    upon time ill thought likely deathbed send tru...
3    peasant driven cow fair sold seven thalers way...
4    wonderful musician quite alone forest thought ...
Name: Story, dtype: object
</pre></div>
</div>
</div>
</div>
</section>
<section id="remove-rare-words">
<h3>Remove Rare Words<a class="headerlink" href="#remove-rare-words" title="Permalink to this headline">#</a></h3>
<p>By analogy, we can remove the most rare words. Some of these are strange misspellings or <a class="reference external" href="https://en.wikipedia.org/wiki/Hapax_legomenon">hapax legomenon</a> (one off words that don’t appear anywhere else in the text).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">freq</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">())</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()[</span><span class="o">-</span><span class="mi">10</span><span class="p">:]</span>
<span class="n">freq</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>schoolmasterif    1
understoodand     1
kirstenbut        1
goodthat          1
readlater         1
bookbinder        1
themhans          1
cagei             1
hansthe           1
moonfrom          1
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Again, removing words following the same process as the stopword removal.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">freq</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">freq</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">freq</span><span class="p">))</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    cat made acquaintance mouse much great love fr...
1    goat seven ones fond ever mother children day ...
2    upon time ill thought likely deathbed send tru...
3    peasant driven cow fair sold seven thalers way...
4    wonderful musician quite alone forest thought ...
Name: Story, dtype: object
</pre></div>
</div>
</div>
</div>
</section>
<section id="correct-spelling">
<h3>Correct Spelling<a class="headerlink" href="#correct-spelling" title="Permalink to this headline">#</a></h3>
<p>Misspellings can cause inaccuracies in text analysis. For example, “the” and “teh” are likely intended to be the same word and a reader might gloss over that typo, but a computer would view them as distinct.</p>
<p>To help address this we will leverage the <a class="reference external" href="https://textblob.readthedocs.io/en/dev/">TextBlob package</a> to check the spelling.</p>
<p>Since this can be slow and often of questionable usefulness, we have limited the check to the first 5 rows of our DataFrame.</p>
<p>It is also worth keeping in mind that, much like autocorrect on your phone, the spellchecking here is not going to be perfectly accurate and could result in just as many errors as it fixes (especially if you are working on text from edited or published sources).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">textblob</span> <span class="kn">import</span> <span class="n">TextBlob</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">][:</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">TextBlob</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">correct</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="nn">Input In [62],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">from</span> <span class="nn">textblob</span> <span class="kn">import</span> <span class="n">TextBlob</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">][:</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">TextBlob</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">correct</span><span class="p">()))</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;textblob&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="tokenization">
<h3>Tokenization<a class="headerlink" href="#tokenization" title="Permalink to this headline">#</a></h3>
<p>Tokenization is the process of splitting up a block of text into a sequence of words or sentences.</p>
<p>For those familiar with R and the Tidyverse, this would be referred to as unnesting tokens</p>
<p>Here we show all the tokenized words from the first data chunk in our Dataframe.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#import nltk</span>
<span class="c1">#nltk.download(&#39;punkt&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">TextBlob</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">words</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WordList([&#39;cat&#39;, &#39;made&#39;, &#39;acquaintance&#39;, &#39;mouse&#39;, &#39;much&#39;, &#39;great&#39;, &#39;love&#39;, &#39;friendship&#39;, &#39;felt&#39;, &#39;last&#39;, &#39;mouse&#39;, &#39;agreed&#39;, &#39;live&#39;, &#39;keep&#39;, &#39;house&#39;, &#39;together&#39;, &#39;must&#39;, &#39;make&#39;, &#39;preparations&#39;, &#39;winter&#39;, &#39;else&#39;, &#39;shall&#39;, &#39;suffer&#39;, &#39;hunger&#39;, &#39;cat&#39;, &#39;mouse&#39;, &#39;can&#39;, &#39;not&#39;, &#39;venture&#39;, &#39;everywhere&#39;, &#39;end&#39;, &#39;caught&#39;, &#39;trap&#39;, &#39;good&#39;, &#39;advice&#39;, &#39;followed&#39;, &#39;bought&#39;, &#39;pot&#39;, &#39;fat&#39;, &#39;know&#39;, &#39;store&#39;, &#39;finally&#39;, &#39;much&#39;, &#39;consideration&#39;, &#39;cat&#39;, &#39;know&#39;, &#39;place&#39;, &#39;better&#39;, &#39;stored&#39;, &#39;church&#39;, &#39;dares&#39;, &#39;take&#39;, &#39;anything&#39;, &#39;away&#39;, &#39;put&#39;, &#39;beneath&#39;, &#39;altar&#39;, &#39;touch&#39;, &#39;need&#39;, &#39;pot&#39;, &#39;stored&#39;, &#39;safely&#39;, &#39;away&#39;, &#39;long&#39;, &#39;cat&#39;, &#39;took&#39;, &#39;great&#39;, &#39;longing&#39;, &#39;mouse&#39;, &#39;wanted&#39;, &#39;tell&#39;, &#39;mouse&#39;, &#39;cousin&#39;, &#39;brought&#39;, &#39;son&#39;, &#39;world&#39;, &#39;asked&#39;, &#39;godfather&#39;, &#39;white&#39;, &#39;brown&#39;, &#39;spots&#39;, &#39;hold&#39;, &#39;baptismal&#39;, &#39;font&#39;, &#39;let&#39;, &#39;go&#39;, &#39;today&#39;, &#39;look&#39;, &#39;house&#39;, &#39;yes&#39;, &#39;yes&#39;, &#39;answered&#39;, &#39;mouse&#39;, &#39;means&#39;, &#39;go&#39;, &#39;get&#39;, &#39;anything&#39;, &#39;good&#39;, &#39;eat&#39;, &#39;think&#39;, &#39;like&#39;, &#39;drink&#39;, &#39;drop&#39;, &#39;sweet&#39;, &#39;red&#39;, &#39;christening&#39;, &#39;wine&#39;, &#39;however&#39;, &#39;untrue&#39;, &#39;cat&#39;, &#39;cousin&#39;, &#39;asked&#39;, &#39;godfather&#39;, &#39;straight&#39;, &#39;church&#39;, &#39;crept&#39;, &#39;pot&#39;, &#39;fat&#39;, &#39;began&#39;, &#39;lick&#39;, &#39;licked&#39;, &#39;top&#39;, &#39;fat&#39;, &#39;stroll&#39;, &#39;roofs&#39;, &#39;town&#39;, &#39;looked&#39;, &#39;opportunities&#39;, &#39;stretched&#39;, &#39;sun&#39;, &#39;licking&#39;, &#39;whiskers&#39;, &#39;whenever&#39;, &#39;thought&#39;, &#39;pot&#39;, &#39;fat&#39;, &#39;return&#39;, &#39;home&#39;, &#39;evening&#39;, &#39;well&#39;, &#39;mouse&#39;, &#39;must&#39;, &#39;happy&#39;, &#39;day&#39;, &#39;everything&#39;, &#39;well&#39;, &#39;answered&#39;, &#39;cat&#39;, &#39;name&#39;, &#39;give&#39;, &#39;child&#39;, &#39;asked&#39;, &#39;mouse&#39;, &#39;topoff&#39;, &#39;cat&#39;, &#39;quite&#39;, &#39;coolly&#39;, &#39;topoff&#39;, &#39;cried&#39;, &#39;mouse&#39;, &#39;odd&#39;, &#39;uncommon&#39;, &#39;name&#39;, &#39;usual&#39;, &#39;family&#39;, &#39;matter&#39;, &#39;cat&#39;, &#39;worse&#39;, &#39;crumbthief&#39;, &#39;godchildren&#39;, &#39;calledbefore&#39;, &#39;long&#39;, &#39;cat&#39;, &#39;seized&#39;, &#39;another&#39;, &#39;fit&#39;, &#39;longing&#39;, &#39;mouse&#39;, &#39;must&#39;, &#39;favor&#39;, &#39;manage&#39;, &#39;house&#39;, &#39;alone&#39;, &#39;day&#39;, &#39;asked&#39;, &#39;godfather&#39;, &#39;since&#39;, &#39;child&#39;, &#39;white&#39;, &#39;ring&#39;, &#39;around&#39;, &#39;neck&#39;, &#39;can&#39;, &#39;not&#39;, &#39;refuse&#39;, &#39;good&#39;, &#39;mouse&#39;, &#39;consented&#39;, &#39;however&#39;, &#39;cat&#39;, &#39;crept&#39;, &#39;behind&#39;, &#39;town&#39;, &#39;wall&#39;, &#39;church&#39;, &#39;devoured&#39;, &#39;half&#39;, &#39;pot&#39;, &#39;fat&#39;, &#39;nothing&#39;, &#39;tastes&#39;, &#39;good&#39;, &#39;eats&#39;, &#39;oneself&#39;, &#39;quite&#39;, &#39;satisfied&#39;, &#39;days&#39;, &#39;work&#39;, &#39;arrived&#39;, &#39;home&#39;, &#39;mouse&#39;, &#39;asked&#39;, &#39;name&#39;, &#39;child&#39;, &#39;christened&#39;, &#39;halfgone&#39;, &#39;answered&#39;, &#39;cat&#39;, &#39;halfgone&#39;, &#39;saying&#39;, &#39;never&#39;, &#39;heard&#39;, &#39;name&#39;, &#39;life&#39;, &#39;ill&#39;, &#39;wager&#39;, &#39;almanacthe&#39;, &#39;cats&#39;, &#39;mouth&#39;, &#39;soon&#39;, &#39;began&#39;, &#39;water&#39;, &#39;delicious&#39;, &#39;goods&#39;, &#39;good&#39;, &#39;things&#39;, &#39;threes&#39;, &#39;mouse&#39;, &#39;asked&#39;, &#39;godfather&#39;, &#39;child&#39;, &#39;totally&#39;, &#39;black&#39;, &#39;white&#39;, &#39;paws&#39;, &#39;otherwise&#39;, &#39;single&#39;, &#39;white&#39;, &#39;hair&#39;, &#39;whole&#39;, &#39;body&#39;, &#39;happens&#39;, &#39;every&#39;, &#39;years&#39;, &#39;let&#39;, &#39;go&#39;, &#39;wont&#39;, &#39;topoff&#39;, &#39;halfgone&#39;, &#39;answered&#39;, &#39;mouse&#39;, &#39;odd&#39;, &#39;names&#39;, &#39;make&#39;, &#39;stop&#39;, &#39;think&#39;, &#39;sit&#39;, &#39;home&#39;, &#39;cat&#39;, &#39;dark&#39;, &#39;gray&#39;, &#39;fur&#39;, &#39;coat&#39;, &#39;long&#39;, &#39;braid&#39;, &#39;hair&#39;, &#39;capturing&#39;, &#39;fantasies&#39;, &#39;go&#39;, &#39;daytime&#39;, &#39;cats&#39;, &#39;absence&#39;, &#39;mouse&#39;, &#39;cleaned&#39;, &#39;house&#39;, &#39;put&#39;, &#39;order&#39;, &#39;greedy&#39;, &#39;cat&#39;, &#39;devoured&#39;, &#39;rest&#39;, &#39;fat&#39;, &#39;peace&#39;, &#39;everything&#39;, &#39;eaten&#39;, &#39;well&#39;, &#39;filled&#39;, &#39;fat&#39;, &#39;return&#39;, &#39;home&#39;, &#39;nighttime&#39;, &#39;mouse&#39;, &#39;immediately&#39;, &#39;asked&#39;, &#39;name&#39;, &#39;given&#39;, &#39;third&#39;, &#39;child&#39;, &#39;like&#39;, &#39;either&#39;, &#39;cat&#39;, &#39;name&#39;, &#39;allgone&#39;, &#39;allgone&#39;, &#39;cried&#39;, &#39;mouse&#39;, &#39;worrisome&#39;, &#39;name&#39;, &#39;never&#39;, &#39;seen&#39;, &#39;print&#39;, &#39;allgone&#39;, &#39;mean&#39;, &#39;shook&#39;, &#39;head&#39;, &#39;curled&#39;, &#39;lay&#39;, &#39;sleepfrom&#39;, &#39;time&#39;, &#39;forth&#39;, &#39;invited&#39;, &#39;cat&#39;, &#39;godfather&#39;, &#39;winter&#39;, &#39;longer&#39;, &#39;anything&#39;, &#39;found&#39;, &#39;outside&#39;, &#39;mouse&#39;, &#39;thought&#39;, &#39;stored&#39;, &#39;food&#39;, &#39;cat&#39;, &#39;go&#39;, &#39;pot&#39;, &#39;fat&#39;, &#39;stored&#39;, &#39;taste&#39;, &#39;good&#39;, &#39;yes&#39;, &#39;answered&#39;, &#39;cat&#39;, &#39;enjoy&#39;, &#39;much&#39;, &#39;enjoy&#39;, &#39;sticking&#39;, &#39;dainty&#39;, &#39;tongue&#39;, &#39;window&#39;, &#39;set&#39;, &#39;way&#39;, &#39;arrived&#39;, &#39;pot&#39;, &#39;fat&#39;, &#39;sure&#39;, &#39;still&#39;, &#39;place&#39;, &#39;empty&#39;, &#39;alas&#39;, &#39;mouse&#39;, &#39;see&#39;, &#39;happened&#39;, &#39;comes&#39;, &#39;light&#39;, &#39;true&#39;, &#39;friend&#39;, &#39;ate&#39;, &#39;everything&#39;, &#39;serving&#39;, &#39;godfather&#39;, &#39;first&#39;, &#39;top&#39;, &#39;half&#39;, &#39;done&#39;, &#39;quiet&#39;, &#39;cried&#39;, &#39;cat&#39;, &#39;word&#39;, &#39;eat&#39;, &#39;tooall&#39;, &#39;gone&#39;, &#39;already&#39;, &#39;poor&#39;, &#39;mouses&#39;, &#39;lips&#39;, &#39;scarcely&#39;, &#39;spoken&#39;, &#39;cat&#39;, &#39;sprang&#39;, &#39;seized&#39;, &#39;swallowed&#39;, &#39;see&#39;, &#39;way&#39;, &#39;world&#39;])
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="stemming">
<h2>Stemming<a class="headerlink" href="#stemming" title="Permalink to this headline">#</a></h2>
<p>Stemming is the process of removing suffices, like “ed” or “ing”.</p>
<p>We will use another standard NLTK package, PorterStemmer, to do the stemming.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.stem</span> <span class="kn">import</span> <span class="n">PorterStemmer</span>
<span class="n">st</span> <span class="o">=</span> <span class="n">PorterStemmer</span><span class="p">()</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">][:</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">st</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    cat made acquaint mous much great love friends...
1    goat seven one fond ever mother children day g...
2    upon time ill thought like deathb send trusti ...
3    peasant driven cow fair sold seven thaler way ...
4    wonder musician quit alon forest thought manne...
Name: Story, dtype: object
</pre></div>
</div>
</div>
</div>
<p>As we can see “wonderful” became “wonder”, which could help an analysis, but “deathbed” became “deathb” which is less helpful.</p>
</section>
<section id="lemmatization">
<h2>Lemmatization<a class="headerlink" href="#lemmatization" title="Permalink to this headline">#</a></h2>
<p>Lemmatization is often a more useful approach than stemming because it leverages an understanding of the word itself to convert the word back to its root word. However, this means lemmatization is less aggressive than stemming (probably a good thing).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#import nltk</span>
<span class="c1">#nltk.download(&#39;wordnet&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">textblob</span> <span class="kn">import</span> <span class="n">Word</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">Word</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()]))</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    cat made acquaintance mouse much great love fr...
1    goat seven one fond ever mother child day go w...
2    upon time ill thought likely deathbed send tru...
3    peasant driven cow fair sold seven thalers way...
4    wonderful musician quite alone forest thought ...
Name: Story, dtype: object
</pre></div>
</div>
</div>
</div>
<p>At this point we have a several options for cleaning and structuring our text data. The next section will focus on more advanced ways to study text analytically.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="advanced-text-processing">
<h1>Advanced Text Processing<a class="headerlink" href="#advanced-text-processing" title="Permalink to this headline">#</a></h1>
<p>This section focuses on more complex methods of analyzing textual data. We will continue to work with our same DataFrame.</p>
<section id="n-grams">
<h2>N-grams<a class="headerlink" href="#n-grams" title="Permalink to this headline">#</a></h2>
<p>N-grams are combinations of multiple words as they appear in the text. The N refers to the number of words captured in the list. N-grams with N=1 are referred unigrams and are just a nested list of all the words in the text. Following a similar pattern, bigrams (N=2), trigrams (N=3), etc. can be used.</p>
<p>N-grams allow you to capture the structure of the text which can be very useful. For instance, counting the number of bigrams where “said” was preceded by “he” vs “she” could give you an idea of the gender breakdown of speakers in a text. However, if you make your N-grams too long, you lose the ability to make comparisons.</p>
<p>Another concern, especially in very large data sets, is that the memory storage of N-grams scales with N (bigrams are twice as large as unigrams, for example) and the time to process the N-grams can balloon dramatically as well.</p>
<p>All that being said, we would suggest focusing on bigrams and trigrams as useful analysis tools.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.stem</span> <span class="kn">import</span> <span class="n">WordNetLemmatizer</span>
<span class="n">lemmatizer</span> <span class="o">=</span> <span class="n">WordNetLemmatizer</span><span class="p">()</span>
<span class="n">n_grams</span> <span class="o">=</span> <span class="n">TextBlob</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">ngrams</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">characters</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;wolf&#39;</span><span class="p">,</span> <span class="s1">&#39;mouse&#39;</span><span class="p">,</span> <span class="s1">&#39;rabbit&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">]:</span>
     <span class="n">characters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lemmatizer</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">n_grams</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">n</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">characters</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;mother&#39;, &#39;child&#39;]
[&#39;dear&#39;, &#39;child&#39;]
[&#39;guard&#39;, &#39;wolf&#39;]
[&#39;dear&#39;, &#39;child&#39;]
[&#39;knew&#39;, &#39;wolf&#39;]
[&#39;must&#39;, &#39;wolf&#39;]
[&#39;wolf&#39;, &#39;wolf&#39;]
[&#39;dear&#39;, &#39;child&#39;]
[&#39;something&#39;, &#39;wolf&#39;]
[&#39;must&#39;, &#39;wolf&#39;]
[&#39;wolf&#39;, &#39;wolf&#39;]
[&#39;thinking&#39;, &#39;wolf&#39;]
[&#39;cried&#39;, &#39;wolf&#39;]
[&#39;open&#39;, &#39;child&#39;]
[&#39;saw&#39;, &#39;wolf&#39;]
[&#39;clockcase&#39;, &#39;wolf&#39;]
[&#39;clockcase&#39;, &#39;wolf&#39;]
[&#39;sought&#39;, &#39;child&#39;]
[&#39;heard&#39;, &#39;wolf&#39;]
[&#39;saw&#39;, &#39;wolf&#39;]
[&#39;poor&#39;, &#39;child&#39;]
[&#39;cut&#39;, &#39;wolf&#39;]
[&#39;wiserwhen&#39;, &#39;wolf&#39;]
[&#39;running&#39;, &#39;wolf&#39;]
[&#39;dead&#39;, &#39;wolf&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk</span> <span class="kn">import</span> <span class="n">ngrams</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="n">ngram_counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">ngrams</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span> <span class="mi">2</span><span class="p">))</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">ngram_counts</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>((&#39;open&#39;, &#39;door&#39;), 4)
((&#39;dear&#39;, &#39;child&#39;), 3)
((&#39;black&#39;, &#39;paw&#39;), 3)
((&#39;dear&#39;, &#39;mother&#39;), 3)
((&#39;brought&#39;, &#39;something&#39;), 3)
((&#39;hoarse&#39;, &#39;voice&#39;), 2)
((&#39;door&#39;, &#39;dear&#39;), 2)
((&#39;child&#39;, &#39;mother&#39;), 2)
((&#39;must&#39;, &#39;wolf&#39;), 2)
((&#39;wolf&#39;, &#39;wolf&#39;), 2)
</pre></div>
</div>
</div>
</div>
</section>
<section id="term-frequency">
<h2>Term Frequency<a class="headerlink" href="#term-frequency" title="Permalink to this headline">#</a></h2>
<p>Term Frequency is a measure of how often a term appears in a document. There are different ways to define this but the simplest is a raw count of the number of times each term appears.</p>
<p>There are other ways of defining this including a true term frequency and a log scaled definition. All three have been implemented below but the default will the raw count definition, as it matches with the remainder of the definitions in this tutorial.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Definition</p></th>
<th class="head"><p>Formula</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Raw Count</p></td>
<td><p>$<span class="math notranslate nohighlight">\(f_{t,d}\)</span>$</p></td>
</tr>
<tr class="row-odd"><td><p>Term Frequency</p></td>
<td><p>$<span class="math notranslate nohighlight">\(\frac{f_{t,d}}{\sum_{t'\in d}f_{t',d}}\)</span>$</p></td>
</tr>
<tr class="row-even"><td><p>Log Scaled</p></td>
<td><p>$<span class="math notranslate nohighlight">\(\log(1+f_{t,d})\)</span>$</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Raw Count Definition</span>
<span class="n">tf1</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)))</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="c1">## Term Frequency Definition</span>
<span class="c1">#tf1 = (data[&#39;Story&#39;][0:5]).apply(lambda x: (pd.value_counts(x.split(&quot; &quot;)))/len(x.split(&quot; &quot;))).sum(axis = 0).reset_index() </span>

<span class="c1">## Log Scaled Definition</span>
<span class="c1">#tf1 = (data[&#39;Story&#39;][0:10]).apply(lambda x: 1.0+np.log(pd.value_counts(x.split(&quot; &quot;)))).sum(axis = 0).reset_index() </span>

<span class="n">tf1</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;words&#39;</span><span class="p">,</span><span class="s1">&#39;tf&#39;</span><span class="p">]</span>
<span class="n">tf1</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;tf&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>words</th>
      <th>tf</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>434</th>
      <td>john</td>
      <td>39.0</td>
    </tr>
    <tr>
      <th>435</th>
      <td>trusty</td>
      <td>37.0</td>
    </tr>
    <tr>
      <th>1070</th>
      <td>musician</td>
      <td>31.0</td>
    </tr>
    <tr>
      <th>875</th>
      <td>thou</td>
      <td>31.0</td>
    </tr>
    <tr>
      <th>250</th>
      <td>wolf</td>
      <td>27.0</td>
    </tr>
    <tr>
      <th>16</th>
      <td>cried</td>
      <td>27.0</td>
    </tr>
    <tr>
      <th>874</th>
      <td>peasant</td>
      <td>25.0</td>
    </tr>
    <tr>
      <th>0</th>
      <td>cat</td>
      <td>21.0</td>
    </tr>
    <tr>
      <th>10</th>
      <td>go</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>876</th>
      <td>aik</td>
      <td>20.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="inverse-document-frequency">
<h2>Inverse Document Frequency<a class="headerlink" href="#inverse-document-frequency" title="Permalink to this headline">#</a></h2>
<p>Inverse Document Frequency is a measure of how common or rare a term is across multiple documents. That gives a measure of how much weight that term carries.</p>
<p>For a more concrete analogy of this, imagine a room full of NBA players; here a 7 foot tall person wouldn’t be all that shocking. However if you have a room full of kindergarten students, a 7 foot tall person would be a huge surprise.</p>
<p>The simplest and standard definition of Inverse Document Frequency is to take the logarithm of the ratio of the number of documents containing a term to the total number of documents.</p>
<div class="math notranslate nohighlight">
\[-\log\frac{n_t}{N} = \log\frac{N}{n_t}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">word</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tf1</span><span class="p">[</span><span class="s1">&#39;words&#39;</span><span class="p">]):</span>
    <span class="n">tf1</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;idf&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">word</span><span class="p">)])))</span>

<span class="n">tf1</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>words</th>
      <th>tf</th>
      <th>idf</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>cat</td>
      <td>21.0</td>
      <td>1.162270</td>
    </tr>
    <tr>
      <th>1</th>
      <td>mouse</td>
      <td>20.0</td>
      <td>2.591737</td>
    </tr>
    <tr>
      <th>2</th>
      <td>fat</td>
      <td>9.0</td>
      <td>0.847665</td>
    </tr>
    <tr>
      <th>3</th>
      <td>name</td>
      <td>10.0</td>
      <td>1.262168</td>
    </tr>
    <tr>
      <th>4</th>
      <td>pot</td>
      <td>7.0</td>
      <td>1.449952</td>
    </tr>
    <tr>
      <th>5</th>
      <td>asked</td>
      <td>12.0</td>
      <td>0.797529</td>
    </tr>
    <tr>
      <th>6</th>
      <td>good</td>
      <td>19.0</td>
      <td>0.584708</td>
    </tr>
    <tr>
      <th>7</th>
      <td>godfather</td>
      <td>6.0</td>
      <td>4.614020</td>
    </tr>
    <tr>
      <th>8</th>
      <td>child</td>
      <td>19.0</td>
      <td>1.100817</td>
    </tr>
    <tr>
      <th>9</th>
      <td>answered</td>
      <td>19.0</td>
      <td>1.273910</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="term-frequency-inverse-document-frequency-tf-idf">
<h2>Term Frequency – Inverse Document Frequency (<a class="reference external" href="https://en.wikipedia.org/wiki/Tf%E2%80%93idf">TF-IDF</a>)<a class="headerlink" href="#term-frequency-inverse-document-frequency-tf-idf" title="Permalink to this headline">#</a></h2>
<p>Term Frequency – Inverse Document Frequency (TF-IDF) is a composite measure of both Term Frequency and Inverse Document Frequency.</p>
<p>From <a class="reference external" href="https://en.wikipedia.org/wiki/Tf%E2%80%93idf">Wikipedia</a>:
“A high weight in TF–IDF is reached by a high term frequency (in the given document) and a low document frequency of the term in the whole collection of documents; the weights hence tend to filter out common terms”</p>
<p>More concisely, a high TD-IDF says that a word is very important in the documents in which it appears.</p>
<p>There are a few weighting schemes for TF-IDF. Here we use scheme (1).</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Weighting Scheme</p></th>
<th class="head"><p>Document Term Weight</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>(1)</p></td>
<td><p>$<span class="math notranslate nohighlight">\(f_{t,d}\cdot\log\frac{N}{n_t}\)</span>$</p></td>
</tr>
<tr class="row-odd"><td><p>(2)</p></td>
<td><p>$<span class="math notranslate nohighlight">\(1+\log(f_{t,d})\)</span>$</p></td>
</tr>
<tr class="row-even"><td><p>(3)</p></td>
<td><p>$<span class="math notranslate nohighlight">\((1+\log(f_{t,d}))\cdot\log\frac{N}{n_t}\)</span>$</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tf1</span><span class="p">[</span><span class="s1">&#39;tfidf&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tf1</span><span class="p">[</span><span class="s1">&#39;tf&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">tf1</span><span class="p">[</span><span class="s1">&#39;idf&#39;</span><span class="p">]</span>
<span class="n">tf1</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;tfidf&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>words</th>
      <th>tf</th>
      <th>idf</th>
      <th>tfidf</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>434</th>
      <td>john</td>
      <td>39.0</td>
      <td>4.038656</td>
      <td>157.507571</td>
    </tr>
    <tr>
      <th>435</th>
      <td>trusty</td>
      <td>37.0</td>
      <td>4.172187</td>
      <td>154.370921</td>
    </tr>
    <tr>
      <th>876</th>
      <td>aik</td>
      <td>20.0</td>
      <td>6.811244</td>
      <td>136.224888</td>
    </tr>
    <tr>
      <th>1070</th>
      <td>musician</td>
      <td>31.0</td>
      <td>4.038656</td>
      <td>125.198325</td>
    </tr>
    <tr>
      <th>874</th>
      <td>peasant</td>
      <td>25.0</td>
      <td>2.548565</td>
      <td>63.714113</td>
    </tr>
    <tr>
      <th>250</th>
      <td>wolf</td>
      <td>27.0</td>
      <td>2.278645</td>
      <td>61.523412</td>
    </tr>
    <tr>
      <th>880</th>
      <td>wow</td>
      <td>12.0</td>
      <td>4.731803</td>
      <td>56.781634</td>
    </tr>
    <tr>
      <th>1</th>
      <td>mouse</td>
      <td>20.0</td>
      <td>2.591737</td>
      <td>51.834733</td>
    </tr>
    <tr>
      <th>877</th>
      <td>jew</td>
      <td>16.0</td>
      <td>2.750801</td>
      <td>44.012822</td>
    </tr>
    <tr>
      <th>252</th>
      <td>kid</td>
      <td>10.0</td>
      <td>3.920873</td>
      <td>39.208726</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>It is worth noting that the <em>sklearn</em> library has the ability to directly calculate a TD-IDF matrix.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfVectorizer</span>
<span class="n">tfidf</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">(</span><span class="n">max_features</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">lowercase</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">analyzer</span><span class="o">=</span><span class="s1">&#39;word&#39;</span><span class="p">,</span>
 <span class="n">stop_words</span><span class="o">=</span> <span class="s1">&#39;english&#39;</span><span class="p">,</span><span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">data_vect</span> <span class="o">=</span> <span class="n">tfidf</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">])</span>

<span class="n">data_vect</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;908x1000 sparse matrix of type &#39;&lt;class &#39;numpy.float64&#39;&gt;&#39;
	with 117152 stored elements in Compressed Sparse Row format&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="bag-of-words">
<h2><a class="reference external" href="https://en.wikipedia.org/wiki/Bag-of-words_model">Bag of Words</a><a class="headerlink" href="#bag-of-words" title="Permalink to this headline">#</a></h2>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Bag-of-words_model">Bag of Words</a> a way to represent text based on the idea that similar texts will contain similar vocabulary. There is a lot to this model and we provide merely a simple implementation of it here.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">CountVectorizer</span>
<span class="n">bow</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span><span class="n">max_features</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">lowercase</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">analyzer</span> <span class="o">=</span> <span class="s2">&quot;word&quot;</span><span class="p">)</span>
<span class="n">data_bow</span> <span class="o">=</span> <span class="n">bow</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">])</span>
<span class="n">data_bow</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;908x1000 sparse matrix of type &#39;&lt;class &#39;numpy.int64&#39;&gt;&#39;
	with 135746 stored elements in Compressed Sparse Row format&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="sentiment-analysis">
<h2>Sentiment Analysis<a class="headerlink" href="#sentiment-analysis" title="Permalink to this headline">#</a></h2>
<p>Sentiment is a way of measuring the overall positivity or negativity in a given text.</p>
<p>To do this we will use the built in sentiment function in the <em>TextBlob</em> package. This function will return the polarity and subjectivity scores for each data chunk.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">][:</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">TextBlob</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">sentiment</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0      (0.21925970534841502, 0.4762608806963645)
1    (-0.023767006802721088, 0.4003401360544218)
2      (0.21205513784461166, 0.5229620927318298)
3      (0.11392783353010624, 0.5360229732388825)
4     (0.06699011680143753, 0.43359389038634333)
Name: Story, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Focusing on the polarity score, we are able to see the overall sentiment of each data chunk. The closer to 1 the more positive and the closer to -1 the more negative.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">TextBlob</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">sentiment</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span>
<span class="n">data</span><span class="p">[[</span><span class="s1">&#39;Story&#39;</span><span class="p">,</span><span class="s1">&#39;sentiment&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Story</th>
      <th>sentiment</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>cat made acquaintance mouse much great love fr...</td>
      <td>0.219260</td>
    </tr>
    <tr>
      <th>1</th>
      <td>goat seven one fond ever mother child day go w...</td>
      <td>-0.023767</td>
    </tr>
    <tr>
      <th>2</th>
      <td>upon time ill thought likely deathbed send tru...</td>
      <td>0.212055</td>
    </tr>
    <tr>
      <th>3</th>
      <td>peasant driven cow fair sold seven thalers way...</td>
      <td>0.113928</td>
    </tr>
    <tr>
      <th>4</th>
      <td>wonderful musician quite alone forest thought ...</td>
      <td>0.066990</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Here we have textted the sentiment scores for the first 10 chunks.</p>
<p>Notice they tend to be positive but not exceedingly so.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_1</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">]][:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../../../../../../../../../_images/textmining_python_183_012.png" src="../../../../../../../../../../../_images/textmining_python_183_012.png" />
</div>
</div>
<p>Now we have sorted and textted all of the sentiment scores for the chunks in our database.</p>
<p>We can clearly see that most of the text data is positive but not overwhelmingly so (as seen by the long tail of the distribution). However, the parts that are negative tend to be more polarized than the positive ones (a shorter tail and sharper peak).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_2</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;sentiment&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../../../../../../../../../_images/textmining_python_185_012.png" src="../../../../../../../../../../../_images/textmining_python_185_012.png" />
</div>
</div>
</section>
<section id="using-tf-idf-and-machine-learning">
<h2>Using TF-IDF and Machine Learning<a class="headerlink" href="#using-tf-idf-and-machine-learning" title="Permalink to this headline">#</a></h2>
<p>This is significantly more advanced than the rest of the tutorial. This takes the TF-IDF matrix and applies a <a class="reference external" href="https://en.wikipedia.org/wiki/K-means_clustering">k-means clustering algorithm</a>. This groups the texts into clusters of similar terms from the TF-IDF matrix. This algorithm randomly seeds X “means”, the values are then clustered into the nearest mean. The centroid of the values in each cluster then becomes the new mean and the process repeats until a convergence is reached.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfVectorizer</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn.manifold</span> <span class="kn">import</span> <span class="n">TSNE</span>

<span class="n">groups</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">num_clusters</span> <span class="o">=</span> <span class="n">groups</span>
<span class="n">num_seeds</span> <span class="o">=</span> <span class="n">groups</span>
<span class="n">max_iterations</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">labels_color_map</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;#20b2aa&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;#ff7373&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;#ffe4e1&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;#005073&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;#4d0404&#39;</span><span class="p">,</span>
    <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;#ccc0ba&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;#4700f9&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="s1">&#39;#f6f900&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="s1">&#39;#00f91d&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="s1">&#39;#da8c49&#39;</span>
<span class="p">}</span>
<span class="n">pca_num_components</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">tsne_num_components</span> <span class="o">=</span> <span class="mi">2</span>

<span class="c1"># calculate tf-idf of texts</span>
<span class="n">tfidf</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">(</span><span class="n">max_features</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">lowercase</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">analyzer</span><span class="o">=</span><span class="s1">&#39;word&#39;</span><span class="p">,</span><span class="n">stop_words</span><span class="o">=</span> <span class="s1">&#39;english&#39;</span><span class="p">,</span><span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">tf_idf_matrix</span> <span class="o">=</span> <span class="n">tfidf</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">])</span>

<span class="c1"># create k-means model with custom config</span>
<span class="n">clustering_model</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="n">num_clusters</span><span class="p">,</span>
    <span class="n">max_iter</span><span class="o">=</span><span class="n">max_iterations</span><span class="p">,</span>
    <span class="n">precompute_distances</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span>
<span class="p">)</span>

<span class="n">labels</span> <span class="o">=</span> <span class="n">clustering_model</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">tf_idf_matrix</span><span class="p">)</span>
<span class="c1">#print(labels)</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">tf_idf_matrix</span><span class="o">.</span><span class="n">todense</span><span class="p">()</span>

<span class="c1"># ----------------------------------------------------------------------------------------------------------------------</span>

<span class="n">reduced_data</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="n">pca_num_components</span><span class="p">)</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="c1"># print(reduced_data)</span>

<span class="kn">import</span> <span class="nn">matplotlib.patches</span> <span class="k">as</span> <span class="nn">mpatches</span>
<span class="n">legendlist</span><span class="o">=</span><span class="p">[</span><span class="n">mpatches</span><span class="o">.</span><span class="n">Patch</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">labels_color_map</span><span class="p">[</span><span class="n">key</span><span class="p">],</span><span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">))</span><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">labels_color_map</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">instance</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">reduced_data</span><span class="p">):</span>
    <span class="c1">#print(instance, index, labels[index])</span>
    <span class="n">pca_comp_1</span><span class="p">,</span> <span class="n">pca_comp_2</span> <span class="o">=</span> <span class="n">reduced_data</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">labels_color_map</span><span class="p">[</span><span class="n">labels</span><span class="p">[</span><span class="n">index</span><span class="p">]]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">pca_comp_1</span><span class="p">,</span> <span class="n">pca_comp_2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="n">legendlist</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>



<span class="c1"># t-SNE plot</span>
<span class="c1">#embeddings = TSNE(n_components=tsne_num_components)</span>
<span class="c1">#Y = embeddings.fit_transform(X)</span>
<span class="c1">#plt.scatter(Y[:, 0], Y[:, 1], cmap=plt.cm.Spectral)</span>
<span class="c1">#plt.show()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../../../../../../../../../_images/textmining_python_188_012.png" src="../../../../../../../../../../../_images/textmining_python_188_012.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tfidf_test</span> <span class="o">=</span> <span class="n">tf1</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;tfidf&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">1000</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">title_groups</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">([</span><span class="n">labels</span><span class="p">,</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Title&#39;</span><span class="p">],</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story Type&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
<p>These are the titles of the texts in each cluster. Keep in mind that each time you run the algorithm, the randomness in generating the initial means will result in different clusters.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">title_groups</span><span class="p">)):</span>
    <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Group&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">title_groups</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">groups</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;#### </span><span class="si">{}</span><span class="s2"> ###&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">title_groups</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">el</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">el</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>#### 0 ###

The golden bird
Gossip wolf and the fox
The fox and the cat
The fox and the geese
The fox and the horse
The Cat, the Rooster and the Fox
The Animals in the Pit
The Fox and the Crane
The Fox as Herdsman
Bear and Bruin
Well Done and Ill Paid
The Cock and Hen That Went to the Dovrefell
The Golden Bird
Snegurushka and the Fox
Fox, Hare and Cock
The Crow and the Fox
The Eagle and the Fox 
The Fox and the Crow
The Fox and the Grapes
The Bear and the Fox
The Ass, the Fox, and the Lion
The Fox and the Goat
The Fox Who Had Lost His Tail
The Wild Boar and the Fox
The Fox and the Woodcutter
The Lion, the Bear, and the Fox
The Fox and the Leopard
The Crab and the Fox
The Hares and the Foxes
The Dog, the Cock, and the Fox
The Lion, the Wolf, and the Fox
The Jackdaw and the Fox
The Fox and the Bramble
The Ass in the Lion&#39;s Skin
The Wolf and Fox, with the Ape for Judge
The Fox and the Crow
The Fox and the Stork
The Fox and Eagle
The Fox and the Tragic Mask
The Fox and the Grapes
The Fox and the Goat
The Raven and the Fox 
The Fox and the Crow
The Wolf and the Fox In the Well
The Fox and the Young Turkeys
The fox and the crow
Lion Share
The Willow-Wren and the Bear

#### 1 ###

The almond tree
Jorinda and Joringel
The moon
Little Ida&#39;s flowers
Thumbelina
The Saucy Boy
The travelling companion
The goloshes of fortune
The daisy
The brave tin soldier
The wild swans
The elf of the rose
The flying trunk
The storks
Ole-Luk-Oie, the Dream-God
The buckwheat
The angel
The Nightingale
Top and Ball
The ugly duckling
The fir tree
The snow queen
The elderbush
The red shoes
The jumper
The shepherdess and the sweep
Holger Danske
The bell
Grandmother
The darning-needle
The little match-seller
By the almshouse window
A picture from the ramparts
The old street lamp
The neighbouring families
Little Tuk
The old house
The happy family
The story of a mother
The flax
There is a difference
The loveliest rose in the world
In a thousand years
The old grave-stone
The story of the year
On judgment day
A cheerful temper
Heartache
Everything in its proper place
The goblin and the huckster
Under the willow tree
Five peas from a pod
She was good for nothing
The last pearl
At the uttermost parts of the sea
The moneybox
A leaf from heaven
Ib and little Christina
The thorny road of honor
The Jewish girl
A string of pearls
The bell deep
The bottle neck
Soup from a sausage skewer
The old bachelor&#39;s nightcap
Something
The last dream of the old oak
The A-B-C book
The marsh king&#39;s daughter
The stone of the wise man
The wind tells about Valdemar Daae and his daughters
The girl who trod on the loaf
Ole the tower-keeper
Two brothers
The butterfly
Twelve by the mail
The beetle
The snowman
The snail and the rosebush
The old church bell
The silver shilling
The metal pig
The bond of friendship
A rose from Homer&#39;s grave
A story
The Dumb Book
The snowdrop
The teapot
The bird of folklore
The windmill
Kept secret but not forgotten
Aunty
The toad
Vänö and Glänö
The little green ones
The goblin and the woman
Peiter, Peter, and Peer
Which was the happiest?
The puppet-show man
The comet
Sunshine stories
Chicken Grethe&#39;s family
What happened to the thistle
What one can invent
Luck may lie in a pin
What the whole family said
Great-Grandfather
The most incredible thing
The great sea serpent
The gardener and the noble family
What old Johanne told
The cripple
Aunty Toothache
The Bird of Truth
Cuội and the Moon

#### 2 ###

Straw, coal, and bean
The Valiant Little Tailor
The Bremen town musicians
Clever Hans
Herr Korbes
The Dog and the Sparrow
Clever Grethel
The death of the little hen
Gambling Hansel
Old Hildebrand
Sweet Porridge
Knoist and his three sons
The old man made young again
The old beggar-woman
Brides on their trial
A riddling tale
The peasant in heaven
Sharing joy and sorrow
The hare and the hedgehog
The crumbs on the table
The golden key
Little Claus and big Claus
The emperor&#39;s new suit
The shadow
The drop of water
The shirt-collar
The swan&#39;s nest
There is no doubt about it
Two maidens
The races
The farm-yard cock and the weather-cock
In the duck yard
The days of the week
The rags
The candles
Dance, dance, doll of mine!
The gate key
The Tallow Candle
The Animals&#39; Winter Home
The Tale of Ruff Ruffson, Son of Bristle
The Greedy Old Woman
Emelya and the Pike
Good But Bad
The Cock and Hen
One&#39;s Own Children Are Always Prettiest
The Cock, the Cuckoo, and the Blackcock
Gertrude&#39;s Bird
The Cock and Hen a-Nutting
The Box With Something Pretty In It
The Priest And The Clerk
The Way Of The World
Reynard And Chanticleer
The Hare And The Heiress
Choosing a Bride
Golden Fish
Tale of the fisherman and the little fish
The Frog and Ox
Two bulls and the frog
Anansi in hunger
The Frog and the Ox
The Cat and the Fox
The Two Mules
The Tortoise and the Eagle
The Boy Bathing
The Ass and the Grasshopper 
The Charcoal-Burner and the Fuller
The Boy Hunting Locusts
The Fisherman Piping
The Ants and the Grasshopper
The Dog and the Shadow
The Mole and His Mother
The Herdsman and the Lost Bull
The Pomegranate, Apple-Tree, and Bramble
The Farmer and the Stork
The Fawn and His Mother
The Swallow and the Crow
The Flies and the Honey-Pot
The Bear and the Two Travelers
The Oxen and the Axle-Trees
The Thirsty Pigeon
The Miser
The Horse and Groom
The Ass and the Lapdog
The Piglet, the Sheep, and the Goat
The Ass and the Mule
The Salt Merchant and His Ass
The Vain Jackdaw
The Mischievous Dog
The Man and His Two Sweethearts
The Astronomer
The Charger and the Miller
The Horse and His Rider
The Belly and the Members
The Vine and the Goat
The Widow and Her Little Maidens
The Father and His Two Daughters
The Farmer and His Sons
The Crab and Its Mother
The Heifer and the Ox
The Swallow, the Serpent, and the Court of Justice
The Thief and His Mother
The Old Man and Death
The Fir-Tree and the Bramble
The Man Bitten by a Dog
The Two Pots
The Aethiop
The Fisherman and His Nets
The Two Dogs
The Widow and the Sheep
The Eagle and the Arrow
The Sick Kite
The One-Eyed Doe
The Shepherd and the Sea
The Master and His Dogs
The Ass Carrying the Image
The Two Travelers and the Axe
The Bee and Jupiter
The Seaside Travelers
The Brazier and His Dog
The Ass and His Masters
The Oak and the Reeds
The Fisherman and the Little Fish
Mercury and the Sculptor
The Monkey and the Fishermen
The Flea and the Wrestler
The Two Frogs
The Seagull and the Kite
The Peasant and the Eagle
The Image of Mercury and the Carpenter
The Monkeys and Their Mother
The Oaks and Jupiter
The Traveler and Fortune
The Bald Knight
The Lamp
The Hen and the Golden Eggs
The Ass and the Frogs
The Crow and the Raven
The Woman and Her Hen
The Kites and the Swans
The Camel
The Wasp and the Snake
The Dog and the Hare
The Peacock and the Crane
The Mule
The Hart and the Vine
The Two Frogs
The Walnut-Tree
The Monkey and the Dolphin
The Jackdaw and the Doves
The Horse and the Stag
The Prophet
The Goat and the Ass
The Fishermen
The Fowler and the Viper
The Geese and the Cranes
The Wasps, the Partridges, and the Farmer
The North Wind and the Sun
The Two Men Who Were Enemies
The Gamecocks and the Partridge
The Spendthrift and the Swallow
The Trumpeter Taken Prisoner
The Flea and the Ox
The Dove and the Crow
Mercury and the Workmen
The Man and the Satyr
The Ass and His Purchaser
The Two Bags
The Gnat and the Bull
The Dogs and the Hides
The Shepherd and the Sheep
The Monkey and the Camel
The Peasant and the Apple-Tree
The Hen and the Swallow
The Crow and the Serpent
The Dog and the Oyster
The Ant and the Dove
The Partridge and the Fowler
The Flea and the Man
The Thieves and the Cock
The Dog and the Cook
The Travelers and the Plane-Tree
The Hares and the Frogs
The Rich Man and the Tanner
The Shipwrecked Man and the Sea
The Camel and Jupiter
The Ass and the Charger
The Ass and His Driver
The Thrush and the Fowler
The Rose and the Amaranth
The Frogs&#39; Complaint Against the Sun
The Steward of Skalholt.
The Mirror of Truth
The Two Travellers
The Inquisitive Cat
The Carp and her Young
The Two Gardeners
The Frog and the Rat
The Stag at the Fountain
The Cobbler Turned Doctor
The Sapient Ass
The Bitch and Her Puppies
The Frogs Desiring a King
The Hungry Dogs
The Faithful House-dog
The Proud Frog
The Dog and the Crocodile
The Dog, Treasure, and Vulture
The Kite and the Doves
The Dog in the River
The Frogs and Sun
The Bald-pate Dupe
The Man and the Dog
The Old Woman and Empty Cask
Of Doubt and Credulity
The Bees and the Drone
The Dog and the Lamb
The Owl and the Grasshopper
The Trees Protected
Juno and the Peacock
Esop and the Importunate Fellow
The Panther and Shepherds
The Ape&#39;s Head
Esop and the Insolent Fellow
The Fly and the Mule
The Ass and Priests of Cybele
The Two Bags
The Sacrilegious Thief
Hercules and Plutus
The He-goats and She-goats
The Man and the Adder
The Shipwreck of Simonides
The Escape of Simonides
The Horse and Boar
Esop and the Will
The Viper and the File
Demetrius and Menander
The Old Dog and the Huntsman
The Man and the Ass
The Two Bald Men
Opportunity
The Stag and the Oxen
The Man and the Dog
A Saying of Socrates
The Swan, The Pike and the Crayfish 
The Ant
Elephant And Pug
The Frogs and the Fighting Bulls
The ant and the Grasshopper
A Hog under an Oak
Dragonfly and the Ant
The Grasshopper and the Ant
The Rat and the Elephant
The Hare and the Partridge
The Man and his Image
The Unhappily Married Man
The Rat Retired From the World
The Maiden
The Wishes
The Dairy-woman and the Pail of Milk
The Priest and the Corpse
The Man Who Ran After Fortune and The Man Who Waited For her In his Bed
The Cobbler and the Financier
The Power of Fable
The Dog Who Carried his Master&#39;s Dinner
Thyrsis and Amaranth
Education
Democritus and the People of Abdera
The Acorn and the Pumpkin
The Schoolboy, the Pedant, and the Owner of a Garden
The Sculptor and the Statue of Jupiter
The Oyster and the Pleaders
The Monkey and the Cat
The Two Rats, the Fox, and the Egg
The Dog With his Ears Cropped
The Rabbits
The Gods Wishing To Instruct a Son of Jupiter
The Lion, the Monkey, and the Two Asses
Love and Folly
The Forest and the Woodcutter
The Ape
The Scythian Philosopher
The Elephant and Jupiter&#39;s Ape
The Arbiter, the Hospitaller, and the Hermit
The Goose that Laid the Golden Egg
The Man and the Adder
The Dog and the Cheese
The Rooster and the Gem
The Eagle and the Jackdaw
The Fly and the Bee
The Spider and the Turtle
The Crow and the Peacock
The Man and the Viper
The Hawk and the Nightingale
The old man, the boy and the donkey
The Turtoise and the Geese
The Appointment in Samarra
When Death Came to Baghdad
The Linguist and the Dervish
The Altercation between Spring and Summer 
The Friendship of the Thorn and the Mud-Fish 
The Black Monkey and the Turtoise
Copa Nanzi and the Cow
The Bull, the Tup, the Cock, and the Steg
The Town Rat and the Country Rat
How Hare Scared Elephant 
The Ass and the Flute
The Two Flies and the Bee

#### 3 ###

The good bargain
The twelve brothers
The three snake-leaves
The Louse and the Flea
The girl without hands
The three languages
The tailor in heaven
The Wishing-Table, the Gold-Ass, and the Cudgel in the Sack
Frau Trude
Bird-foundling
The knapsack, the hat, and the horn
The two brothers
All-kinds-of-fur
The twelve huntsmen
Brother Lustig
The singing, springing lark
The young giant
The king of the golden mountain
The raven
The three little birds
Bearskin
The two travellers
The skilful huntsman
The blue light
The old woman in the wood
Ferdinand the faithful
The iron stove
The six servants
The white bride and the black one
Iron John
Domestic servants
Going a-travelling
The donkey
The turnip
The sparrow and his four children
Lean Lisa
The duration of life
The goose-girl at the well
The nix of the mill-pond
The giant and the tailor
The poor boy in the grave
The true bride
The peasant and the devil
The sea-hare
The master-thief
The drummer
The grave-mound
The crystal ball
Maid Maleen
The boots of buffalo-leather
The three green twigs
The Phoenix bird
The Sevens Bits of Bacon-Rind
The Frog-King, or Iron Henry
Our Lady&#39;s Child
The Story of the Youth who Went Forth to Learn What Fear Was
The Crow and Mercury
Truth and the Traveler
Faithful John
The Cock and the Pearl
Esop Playing
The Bald Man and the Fly
The Bull and the Calf
Maol a chliobain
Asphurtzela

#### 4 ###

Cat and mouse in partnership
The Mouse, the Bird, and the Sausage
The Bat and the Weasels 
The Lion and the Mouse
The Lioness
The Lion, the Mouse, and the Fox
The Mouse, the Frog, and the Hawk
The Wild Ass and the Lion
The Lion and the Dolphin
The Lion and the Boar
The Ass, the Cock, and the Lion
The Mice and the Weasels
The Lion in a Farmyard
The Doe and the Lion
The Lion and the Hare
The Bull and the Goat
The Lion, the Fox, and the Ass
The Gnat and the Lion
The Lion and the Bull
The Wolf and the Lion
The Manslayer
The Cat and Venus
The Lion, Jupiter, and the Elephant
The Viper and the File
The King&#39;s Son and the Painted Lion
The Ant and the Snow
The Ass and the Lion Hunting
The Old Lion
The Man and the Weasel
The Judicious Lion
Mustela et Mus
The Mountain in Labor
The Battle of the Mice and Weasels
Mustela et Mus
The Horoscope
The League of Rats
The Lion and the Mouse
The Lion and the Mouse
The Lion and the Three Bulls
The Lion and the Shepherd
The Lion, the Panther, the Tazourit, and the Jackal
The City Mouse and the Country Mouse
The Cow, the Goat, the Sheep, and the Lion
The Mouse

#### 5 ###

Cinderella
Sleeping Beauty (Little Briar Rose)
The goose girl
The water of life
The shoes that were danced to pieces
The princess and the pea
The little mermaid
The garden of paradise
The wicked prince
The swineherd
The flea and the professor
Alyosha Popovich
The White Duck
East o&#39; the Sun and West o&#39; the Moon
Hacon Grizzlebeard
The Twelve Wild Ducks
The Giant Who Had No Heart in His Body
The Mastermaid
The Lassie and Her Godmother
The Three Aunts
Tatterhood
Katie Woodencloak
The Big Bird Dan
Little Annie the Goose-Girl
The Sleeping Beauty in the Wood
The Myrtle
Cenerentola
Cinderella; or, The Little Glass Slipper
Ricky of the Tuft
The Three Sisters
Violet
The She-Bear
The Dove
The Dragon
Nennillo and Nennella
The Three Citrons
The Morning Star And The Evening Star
Youth Without Age And Life Without Death
The Blue Bird
Tale of the dead princessand the seven knights
Snow-White-Fire-Red
Asmund and Signy
Geirlug the King&#39;s Daughter
The Witch in the Stone Boat
Gesture of Death
Prince Hyacinth and the Dear Little Princess
East of the Sun and West of the Moon
The Yellow Dwarf
The Master-Maid
The White Cat
Felicia and the Pot of Pinks
The Wonderful Sheep
The Story of Pretty Goldilocks
The Goose-Girl
Princess Rosette
The Little Good Mouse
The Golden Branch
The gardiner and Death

#### 6 ###

Trusty John
Rapunzel
Hansel and Gretel
The white snake
The fisherman and his wife
The riddle
Mother Hulda
The seven ravens
The singing bone
The devil with the three golden hairs
Clever Else
The Elves
The robber bridegroom
The godfather
Godfather Death
The six swans
King Thrushbeard
Rumpelstiltskin
Roland
Frederick and Catherine
The little peasant
The queen bee
The three feathers
The golden goose
The thief and his master
The three children of fortune
Six soldiers of fortune
Hans in luck
Hans married
The gold-children
The poor man and the rich man
The gnome
Doctor Know-all
The spirit in the glass bottle
Hans my Hedgehog
The seven Swabians
Donkey cabbages
The three brothers
The devil and his grandmother
The four skilful brothers
One-eye, two-eyes, and three-eyes
Fair Katrinelje and Pif-Paf-Poltrie
The three black princesses
Simeli mountain
The ungrateful son
Odds and ends
The tale of Cockaigne
Snow-White and Rose-Red
The glass coffin
Lazy Harry
The griffin
Strong Hans
The owl
The nail
Old Rinkrank
Poverty and humility lead to heaven
The tinder-box
The elfin hill
Clumsy Hans
What the old man does is always right
Baba Yaga
Baba-Yaga and Puny
The Swan-Geese
Evening, Midnight and Dawn
The Fire-Bird and Princess Vassilissa
The Horse, the Table-Cloth and the Horn
Go I Know Not Where, Bring I Know Not What
Fenist the Falcon
Elena the Wise
The Mountain of Gold
A Cunning Trade
The Riddle
The Wise Maid and the Seven Robbers
The Fortune-Teller
Ivan the Fool
The Miser
Vasilisa the Beautiful
The Two Step-Sisters
The Green Knight
The Sweetheart In The Wood
The Father Of The Family
Blue Beard
The Master Cat; or, Puss in Boots
The Fairies
Little Thumb
Sun, Moon, and Talia
Vardiello
The Seven Doves
Peruonto
The Flea
The Merchant
Goat-Face
The Enchanted Doe
Parsley
Pippo
Canntella
Corvetto
The Booby
The Stone in the Cock&#39;s Head
The Three Enchanted Princes
The Two Cakes
The Raven
The Months
Pintosmalto
The Golden Root
Baldak Borisevich
The Fool and the Birch Tree
The Magic Ring
Daughter and Stepdaughter
The Golden Horseshoe the Golden Feather and the Golden Hair
Godmother Death and the Doctor Who Worked Miracles
Three Coppers
The Princess Bella-Flor
The Knights of the Fish
The Maiden and the Beast
Little Snow White
The Young Slave
The Hearth-Cat
The Fire-blower
The Tartaro
Tartaro and Petit Perroquet
Basa Jauna, the Wild Man
The Baker&#39;s Apprentice
Don Firriulieddu
The Old Woman and the Physician
The Man and His Wife
The Stepmother
The King of Love
The dancing water, the singing apple, and the speaking bird
The Cistern
Thirteenth
Water and Salt
The Cottager and his Cat
Litill, Tritill, the Birds and the Peasant Lad
The Brother and Sister
The Piper and the Puca
The Cobbler and His Three Daughters
The Enchanted Shoes
Bash-Chalek; Or, True Steel
The Gardener and his Landlord
The Fortune-tellers
The Fiddler in Hell
Rumpelstiltzkin
Toads and Diamonds
The Princess on the Glass Hill
The Nyamatsanes
The Knights of Fish
The Rooster and the Hyena
The Robbers and the Farm Animals
The story of the selfish husband
The young man and the monitor lizard
The Story of the Steward
The Blue Lily

#### 7 ###

Shabarsha
Don&#39;t Listen, If You Don&#39;t Like
True and Untrue
Why the Sea Is Salt
The Old Dame and Her Hen
Boots Who Ate a Match With the Troll
Boots Who Made the Princess Say, That&#39;s A Story
The Cat on the Dovrefell
Princess on the Glass Hill
How One Went Out to Woo
The Master-Smith
Buttercup
Taming the Shrew
Shortshanks
Gudbrand on the Hill-side
The Blue Belt
Not a Pin to Choose Between Them
The Three Princesses of Whiteland
Rich Peter the Pedlar
Boots and the Troll
Goosey Grizzel
The Lad Who Went to the North Wind
The Master Thief
The Best Wish
The Three Billy-Goats Gruff
The Husband Who Was to Mind the House
Dapplegrim
Farmer Weathersky
Lord Peter 
The Seven Foals
The Widow&#39;s Son
Bushy Bride
Boots and His Brothers
Big Peter and Little Peter 
Thumbikin
Doll i&#39; the Grass
The Lad and the Deil
Soria Moria Castle
Tom Totherhouse
King Valemon, The White Bear
The Golden Palace That Hung In The Air
The Trolls In Hedale Wood
Goody Gainst-the-stream
Boots And His Crew
Master Tobacco
The Pancake
The Three Lemons
Friends In Life And Death
The Charcoal-burner
The Companion
Goodman Axehaft
The Honest Penny
Silly Men And Cunning Wives
Our Parish Clerk
The Three Years Without Wages
Silly Matt
The Town-mouse And The Fell-mouse
Little Freddy With His Fiddle
The Sheep And The Pig Who Set Up House
The Skipper And Old Nick
Peik
Rumble-Mumble Goose-Egg
The Squire&#39;s Bride
Osborn&#39;s Pipe
The Storehouse Key in the Disdaff
The Cock Who Fell into the Brewing Vat
Why the Sea is Salt

#### 8 ###

The Wolf and the Seven Young Kids
The Wonderful Musician
Little Red Riding Hood
Old Sultan
The wolf and the man
The wolf and the fox
The Wolf and the Goat
Nanny Who Wouldn&#39;t Go Home to Supper
Little Red Riding Hood
Liza the Fox and Catafay the Cat
The Ass and the Wolf
Acheria, the Fox
The Wolf and the Lamb
The Ass and the Wolf
The Wolf and the Lamb
The Kingdom of the Lion
The Wolf and the Crane
The Wolves and the Sheep
The Shepherd and the Wolf
The Wolf and the Sheep
The Wolf and the Housedog
The Shepherd and the Dog
The Wolves and the Sheepdogs
The Kid and the Wolf
The Wolf and the Shepherd
The Wolf and the Goat
The Blind Man and the Whelp
The Wolf and the Horse
The Mother and the Wolf
The Wolf and the Lion
The Lamb and the Wolf
The Shepherd&#39;s Boy and the Wolf
The Wonderful Musician
The Wolf and the Lamb
The Sheep, the Stag, and the Wolf
The Sheep, the Dog, and the Wolf
The Wolf and Crane
The Dog and the Wolf
The Animals Sick of the Plague
The Companions of Ulysses
The Wolf and the Fox
The Lion, Wolf, and Fox

#### 9 ###

Right and Wrong
Prince Ivan and Princess Martha
The Three Kingdoms
Marya Morevna
King Ivan and Bely, the Warrior of the Plains
The King of the Sea and Vassilissa the Wise
The Prophetic Dream
Tsarevich Ivan and Grey Wolf
The Princess Frog
</pre></div>
</div>
</div>
</div>
<p>Now, we are going to make a word cloud based on our data set!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">wordcloud</span> <span class="kn">import</span> <span class="n">WordCloud</span><span class="p">,</span> <span class="n">STOPWORDS</span><span class="p">,</span> <span class="n">ImageColorGenerator</span>
<span class="n">stop_words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">STOPWORDS</span><span class="p">)</span>
<span class="c1">#stopwords.update([&quot;&quot;])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">86</span><span class="o">-</span><span class="n">ed0e8a69dda2</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">from</span> <span class="nn">wordcloud</span> <span class="kn">import</span> <span class="n">WordCloud</span><span class="p">,</span> <span class="n">STOPWORDS</span><span class="p">,</span> <span class="n">ImageColorGenerator</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">stop_words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">STOPWORDS</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1">#stopwords.update([&quot;&quot;])</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;wordcloud&#39;
</pre></div>
</div>
</div>
</div>
<p>If you want to update the stopwords after you see the wordcloud, type them into the empty list above and remove the # sign.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">word</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">])</span>
<span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span><span class="n">stopwords</span><span class="o">=</span><span class="n">stop</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;bilinear&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>The above code creates a wordcloud based off all the words (except for stop words) in all of the stories. While this can be fun, it may not be as interesting as a wordcloud for a single story. Let’s compare:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
    <span class="n">word</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Story&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
    <span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span><span class="n">stopwords</span><span class="o">=</span><span class="n">stop</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;bilinear&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./docs\jupyter_execute\sections\jupyter_execute\docs\jupyter_execute\docs\jupyter_execute\docs\jupyter_execute\sections"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By LibrarianRafia, et al.<br/>
  
      &copy; Copyright Some rights reserved. Chapters are &#34;CC-BY-NC&#34; or &#34;CC-BY-SA&#34;.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../../../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>